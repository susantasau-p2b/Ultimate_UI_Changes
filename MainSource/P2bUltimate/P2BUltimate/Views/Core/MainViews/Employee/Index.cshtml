@{
    ViewBag.Title = "Employee";
}
@model P2b.Global.Employee


<html>
<head>
    <title></title>
    <style>
        .icon-row {
            position: relative;
            left: 56px;
            top: -151px;
        }

        .icon-rowreporting {
            position: relative;
            left: 93px;
            top: -151px;
        }

        .emp_icon-row {
            position: relative;
            left: 324px;
            top: -27px;
        }

        .row1 {
            width: 423px;
        }

        .row4 {
            width: 300px;
            display: inline-block;
        }

        .row5 {
            width: 299px;
            display: inline-block;
        }

        .row6 {
            width: 338px;
            display: inline-block;
        }

        .popup-content-label {
            width: 105px;
            display: block;
            float: left;
/*            margin: 1.5px;*/
        }

        .popup-content-label2 {
            width: 100%;
            display: flow-root;
            float: left;
            margin: 1.5px;
        }

        .popup-content-label3 {
            width: 25%;
            display: list-item;
            float: left;
            margin: 1.5px;
            font-size: 1em;
          
        }

        .popup-content-textbox {
            width: 206px;
        }

        .row2 {
            width: 506px;
            display: inline-block;
        }

        .row3 {
            width: 300px;
            display: inline-block;
        }

        .section1 {
            display: block;
            border: 1.5px solid rgba(207, 207, 207, 0.91);
            height: 322px;
            width: 426px;
            margin: 4px auto;
            position: absolute;
            left: 4px;
            top: 37px;
        }

        .section6 {
            display: block;
            border: 1.5px solid rgba(207, 207, 207, 0.91);
            height: 241px;
            width: 1037px;
            margin: 4px auto;
            position: absolute;
            top: 323px;
        }

        .section2 {
            display: block;
            border: 1.5px solid rgba(207, 207, 207, 0.91);
            height: 486px;
            width: 1043px;
            margin: 4px auto;
            position: absolute;
            top: 551px;
            left: -5px;
        }

        .section3 {
            display: block;
            border: 1.5px solid rgba(207, 207, 207, 0.91);
            height: 155px;
            width: 613px;
            margin: 4px auto;
            position: absolute;
            left: 429px;
            top: -5px;
        }

        .section4 {
            display: block;
            border: 1.5px solid rgba(207, 207, 207, 0.91);
            height: 92px;
            width: 613px;
            margin: 4px auto;
            position: absolute;
            left: 429px;
            top: 224px;
        }

        .section5 {
            display: block;
            border: 1.5px solid rgba(207, 207, 207, 0.91);
            height: 64px;
            width: 613px;
            margin: 4px auto;
            position: absolute;
            left: 429px;
            top: 154px;
        }

        .short_width {
            width: 74px;
        }

        .date_label {
            width: 132px;
        }

        .popup-content-textbox-short {
            min-width: 45%;
        }

        .short_width_pay {
            width: 74px;
            display: block;
            float: left;
        }

        .add_label {
            display: block;
            float: left;
            width: 98px;
            margin: 1px;
        }

        #Gender-button, #MaritalStatus-button {
            margin-right: 59px;
        }

        .popup-content-drop-icon-edit, .popup-content-drop-icon-create, .popup-content-drop-icon-lookup {
            display: inline-block;
            left: 0;
            top: 4px;
        }

        .popup-content-drop-icon-edit, .popup-content-drop-icon-create, .popup-content-drop-icon-lookup {
            height: 20px;
            margin: auto;
            position: absolute;
            width: 20px;
            left: 24px;
        }

        .popup-content-drop-icon-edit {
            left: 76px;
        }

        .popup-content-drop-icon-lookup {
            left: 29px;
        }


        .popup-content-drop-icon-create {
            left: 52px;
        }
    </style>
</head>

<body>
    <div class="Form_Bg">
        <div class="Form_Input">
            <div class="Button_Container">
                <button class="button" id="Create">Create</button>
                <button class="button" id="View">View</button>
                <button class="button" id="Edit">Edit</button>
                <button class="button" id="Delete">Delete</button><button class="button" id="Btn-Upload-Data">Upload</button>
                <button class="button" id="Autho">Authorized</button>
                <div id="Grid_Form">
                    <div>
                        <table id="JqGrid"></table>
                        <div id="pager2"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="dialog">
        <div title="LookUp Data">
            <div class="LookupDiv" id="Lookup"></div>
        </div>
        <div id="PageNavPosition">

        </div>
    </div>
    <div id="Create_Dialog">
        @using (Html.BeginForm(null, null, FormMethod.Post, new { id = "frmEmployee", name = "frmEmployee" }))
        {
            <input id="Autho_Action" type="hidden" name="Autho_Action" />
            <input id="Autho_Allow" type="hidden" name="Autho_Allow" />
            <div id="tabs">
                <ul>
                    <li><a href="#sec1">Employee Info</a></li>
                    <li><a href="#sec2">Reporting Structure</a></li>
                    <li><a href="#sec3">Employee Documents</a></li>
                </ul>
                <div id="sec1" style="padding: 0em;">
                    <div class="section1">
                        <div class="heading">Identity</div>
                        <div class="row1 content_margine">
                            @Html.LabelFor(m => m.EmpCode, "Code", new { @class = "popup-content-label must" })
                            @Html.TextBoxFor(m => m.EmpCode, new { @class = "popup-content-textbox must" })
                        </div>

                        <div class="content_margine row1">
                            @Html.LabelFor(m => m.EmpName.FullNameFML, "Name:", new { @class = "popup-content-label must" })
                            <input type="text" id="EmpName_id" name="EmpName_id" class="filter_structure_id" />
                            @Html.TextBoxFor(m => m.EmpName.FullNameFML, new { @class = "popup-content-textbox must" })
                            <div class="emp_icon-row">
                                <button data-p2btooltip="Lookup Employee Name" class="popup-content-drop-icon-lookup" id="Lookup-EmpName-FName">
                                    <span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create Employee Name" class="popup-content-drop-icon-create" id="Create-EmpName-FName">
                                    <span class="ui-icon ui-icon-newwin popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Edit  Employee Name" class="popup-content-drop-icon-edit" id="Edit-EmpName-FName">
                                    <span class="ui-icon ui-icon-pencil popup-content-iconmark"></span>
                                </button>
                            </div>
                        </div>
                        <div class="content_margine row1">
                            @Html.LabelFor(m => m.FatherName.FullNameFML, "Father Name:", new { @class = "popup-content-label" })
                            <input type="text" id="FatherName_id" name="FatherName_id" class="filter_structure_id" />
                            @Html.TextBoxFor(m => m.FatherName.FullNameFML, new { @class = "popup-content-textbox" })
                            <div class="emp_icon-row">
                                <button data-p2btooltip="Lookup Father Name" class="popup-content-drop-icon-lookup" id="Lookup-FatherName-FName">
                                    <span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create Father Name" class="popup-content-drop-icon-create" id="Create-FatherName-FName">
                                    <span class="ui-icon ui-icon-newwin popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Edit Father Name" class="popup-content-drop-icon-edit" id="Edit-FatherName-FName">
                                    <span class="ui-icon ui-icon-pencil popup-content-iconmark"></span>
                                </button>
                            </div>
                        </div>
                        <div class="content_margine row1">
                            @Html.LabelFor(m => m.MotherName.FullNameFML, "Mother Name:", new { @class = "popup-content-label" })
                            <input type="text" id="MotherName_id" name="MotherName_id" class="filter_structure_id" />
                            @Html.TextBoxFor(m => m.MotherName.FullNameFML, new { @class = "popup-content-textbox" })
                            <div class="emp_icon-row">
                                <button data-p2btooltip="Lookup Mother Name" class="popup-content-drop-icon-lookup" id="Lookup-MotherName-FName">
                                    <span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create Mother Name" class="popup-content-drop-icon-create" id="Create-MotherName-FName">
                                    <span class="ui-icon ui-icon-newwin popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create Mother Name" class="popup-content-drop-icon-edit" id="Edit-MotherName-FName">
                                    <span class="ui-icon ui-icon-pencil popup-content-iconmark"></span>
                                </button>
                            </div>
                        </div>

                        <div class="content_margine row1">
                            @Html.LabelFor(m => m.Gender, "Gender:", new { @class = "popup-content-label must" })
                            <select class="selectmenu must" style="width:215px" id="Gender_drop" name="Gender_drop"><option value="0">-Select-</option></select>
                        </div>

                        <div class="content_margine row1">
                            @Html.LabelFor(m => m.MaritalStatus, "Marital Status:", new { @class = "popup-content-label" })

                            <select class="selectmenu" style="width:215px; left:-17px" id="MaritalStatus_drop" name="MaritalStatus_drop"><option value="0">-Select-</option></select>
                        </div>

                        <div id="Husband_disp" class="content_margine row1">
                            @Html.LabelFor(m => m.HusbandName.FullNameFML, "Spouse Name:", new { @class = "popup-content-label" })
                            <input type="text" id="HusbandName_id" name="HusbandName_id" class="filter_structure_id" />
                            @Html.TextBoxFor(m => m.HusbandName.FullNameFML, new { @class = "popup-content-textbox" })
                            <div class="emp_icon-row">
                                <button data-p2btooltip="Lookup FirstName" class="popup-content-drop-icon-lookup" id="Lookup-HusbandName-FName">
                                    <span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create FirstName" class="popup-content-drop-icon-create" id="Create-HusbandName-FName">
                                    <span class="ui-icon ui-icon-newwin popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create FirstName" class="popup-content-drop-icon-edit" id="Edit-HusbandName-FName">
                                    <span class="ui-icon ui-icon-pencil popup-content-iconmark"></span>
                                </button>
                            </div>
                        </div>

                        <div id="BeforeM_disp" class="content_margine row1">
                            @Html.LabelFor(m => m.BeforeMarriageName.FullNameFML, "Before mariage Name:", new { @class = "popup-content-label" })
                            <input type="text" id="BeforeMarriageName_id" name="BeforeMarriageName_id" class="filter_structure_id" />
                            @Html.TextBoxFor(m => m.BeforeMarriageName.FullNameFML, new { @class = "popup-content-textbox" })
                            <div class="emp_icon-row">
                                <button data-p2btooltip="Lookup FirstName" class="popup-content-drop-icon-lookup" id="Lookup-BeforeMarriageName-FName">
                                    <span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create FirstName" class="popup-content-drop-icon-create" id="Create-BeforeMarriageName-FName">
                                    <span class="ui-icon ui-icon-newwin popup-content-iconmark"></span>
                                </button>
                                <button data-p2btooltip="Create FirstName" class="popup-content-drop-icon-edit" id="Edit-BeforeMarriageName-FName">
                                    <span class="ui-icon ui-icon-pencil popup-content-iconmark"></span>
                                </button>
                            </div>
                        </div>
                        <div class="content_margine row1">
                            @Html.LabelFor(m => m.CardCode, "Card Code:", new { @class = "popup-content-label must" })
                            @Html.TextBoxFor(m => m.CardCode, new { @class = "popup-content-textbox must" })
                        </div>
                        <div class="section2">
                            <div class="heading">Contact Details</div>
                            <div class="content_margine row2">
                                @Html.LabelFor(m => m.ResAddr, "Residential Address:", new { @class = "popup-content-label add_label" })
                                <div class="popup-content-table">
                                    <table class="lookuptableselected" id="ResAddrslist">
                                        <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                                    </table>
                                </div>
                                <div class="icon-row">
                                    <button data-p2btooltip="Lookup residence Addrs Details" class=" popup-content-icon-lookup" id="Lookup-ResAddrs-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Create residence Addrs Details" class=" popup-content-icon-create" id="Create-ResAddrs-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Edit residence Addrs Details" class=" popup-content-icon-edit" id="Edit-ResAddrs-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Delete residence Addrs Details" class=" popup-content-icon-remove" id="Remove-ResAddrs-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                                </div>
                            </div>
                            <div class="content_margine row2">
                                @Html.LabelFor(m => m.ResContact, "Residential  Contact Details:", new { @class = "popup-content-label add_label" })
                                <div class="popup-content-table">
                                    <table class="lookuptableselected" id="ResContactDetailslist">
                                        <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                                    </table>
                                </div>
                                <div class="icon-row">
                                    <button data-p2btooltip="Lookup residence ContactDetails Details" class=" popup-content-icon-lookup" id="Lookup-ResContactDetails-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Create residence ContactDetails Details" class=" popup-content-icon-create" id="Create-ResContactDetails-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Edit residence ContactDetails Details" class=" popup-content-icon-edit" id="Edit-ResContactDetails-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Delete residence ContactDetails Details" class=" popup-content-icon-remove" id="Remove-ResContactDetails-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                                </div>
                            </div>
                            <div class="content_margine row2">
                                @Html.LabelFor(m => m.PerAddr, "Permanent Address: ", new { @class = "popup-content-label add_label" })
                                <div class="popup-content-table">
                                    <table class="lookuptableselected" id="PermAddrslist">
                                        <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                                    </table>
                                </div>
                                <div class="icon-row">
                                    <button data-p2btooltip="Lookup permanent Addrs Details" class=" popup-content-icon-lookup" id="Lookup-PermAddrs-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Create permanent Addrs Details" class=" popup-content-icon-create" id="Create-PermAddrs-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Edit permanent Addrs Details" class=" popup-content-icon-edit" id="Edit-PermAddrs-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Delete permanent Addrs Details" class=" popup-content-icon-remove" id="Remove-PermAddrs-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                                </div>
                            </div>
                            <div class="content_margine row2">
                                @Html.LabelFor(m => m.PerContact, "Permanent Contact Details:", new { @class = "popup-content-label add_label" })
                                <div class="popup-content-table">
                                    <table class="lookuptableselected" id="PermContactDetailslist">
                                        <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                                    </table>
                                </div>
                                <div class="icon-row">
                                    <button data-p2btooltip="Lookup permanent ContactDetails Details" class=" popup-content-icon-lookup" id="Lookup-PermContactDetails-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Create permanent ContactDetails Details" class=" popup-content-icon-create" id="Create-PermContactDetails-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Edit permanent ContactDetails Details" class=" popup-content-icon-edit" id="Edit-PermContactDetails-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Delete permanent ContactDetails Details" class=" popup-content-icon-remove" id="Remove-PermContactDetails-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                                </div>
                            </div>
                            <div class="content_margine row2">
                                @Html.LabelFor(m => m.CorAddr, "Correspondance Address:", new { @class = "popup-content-label add_label" })
                                <div class="popup-content-table">
                                    <table class="lookuptableselected" id="CorrsAddrslist">
                                        <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                                    </table>
                                </div>
                                <div class="icon-row">
                                    <button data-p2btooltip="Lookup corresponding sAddrs Details" class=" popup-content-icon-lookup" id="Lookup-CorrsAddrs-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Create corresponding sAddrs Details" class=" popup-content-icon-create" id="Create-CorrsAddrs-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Edit corresponding sAddrs Details" class=" popup-content-icon-edit" id="Edit-CorrsAddrs-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Delete corresponding sAddrs Details" class=" popup-content-icon-remove" id="Remove-CorrsAddrs-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                                </div>
                            </div>
                            <div class="content_margine row2">
                                @Html.LabelFor(m => m.CorContact, "Correspondance Contact Details:", new { @class = "popup-content-label add_label" })
                                <div class="popup-content-table">
                                    <table class="lookuptableselected" id="CorrsContactDetailslist">
                                        <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                                    </table>
                                </div>
                                <div class="icon-row">
                                    <button data-p2btooltip="Lookup corresponding Contact Details" class=" popup-content-icon-lookup" id="Lookup-CorrsContactDetails-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Create corresponding Contact Details" class=" popup-content-icon-create" id="Create-CorrsContactDetails-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Edit corresponding Contact Details" class=" popup-content-icon-edit" id="Edit-CorrsContactDetails-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                                    <button data-p2btooltip="Delete corresponding Contact Details" class=" popup-content-icon-remove" id="Remove-CorrsContactDetails-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                                </div>
                            </div>
                        </div>

                        <div class="section3">
                            <div class="heading">Geographical Struct</div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Corporate, "Corpoarte:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width:200px;display:none;" id="Corporate_drop" name="Corporate_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Region, "Region:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width:200px;display:none;" id="Region_drop" name="Region_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Company, "Company:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width:200px; left:-32px" id="Company_drop" name="Company_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Division, "Division:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width:200px; left:-19px" id="Division_drop" name="Division_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Location, "Location:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width: 200px; left: -32px;" id="Location_drop" name="Location_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Department, "Department:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width: 200px; left:-19px" id="Department_drop" name="Department_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Group, "Group:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width:200px;left:-32px;" id="Group_drop" name="Group_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row3 content_margine">
                                @Html.LabelFor(m => m.GeoStruct.Unit, "Unit:", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_geo selectmenu" style="width:200px; left:-19px" id="Unit_drop" name="Unit_drop"><option value="0">-Select-</option></select>

                            </div>
                        </div>
                        <div class="section4">
                            <div class="heading">Pay Struct</div>
                            <div class="row4 content_margine">
                                @Html.LabelFor(m => m.PayStruct.Grade, "Grade:", new { @class = "popup-content-label short_width_pay" })
                                <select class="selectmenu_pay selectmenu" style="width:200px; left:-32px" id="Grade_drop" name="Grade_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row4 content_margine">
                                @Html.LabelFor(m => m.PayStruct.Level, "Level:", new { @class = "popup-content-label short_width_pay" })
                                <select class="selectmenu_pay selectmenu" style="width:200px; left:-19px" id="Level_drop" name="Level_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row4 content_margine">
                                @Html.LabelFor(m => m.PayStruct.JobStatus.EmpStatus, "Job Status:", new { @class = "popup-content-label short_width_pay" })
                                <select class="selectmenu_pay selectmenu" style="width:200px; left:-32px" id="JobStatus_drop" name="JobStatus_drop"><option value="0">-Select-</option></select>
                            </div>

                        </div>
                        <div class="section5">
                            <div class="heading">Functional Struct</div>
                            <div class="row5 content_margine">
                                @Html.LabelFor(m => m.FuncStruct.Job.Name, "Job", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_fun selectmenu" style="width:200px" id="Job_drop" name="Job_drop"><option value="0">-Select-</option></select>
                            </div>
                            <div class="row5 content_margine">
                                @Html.LabelFor(m => m.FuncStruct.Job.JobPosition, "Position", new { @class = "popup-content-label short_width" })
                                <select class="selectmenu_fun selectmenu" style="width:200px" id="JobPosition_drop" name="Position_drop"><option value="0">-Select-</option></select>

                            </div>
                        </div>
                        <div class="section6">
                            <div class="heading">Service Book Date</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.BirthDate, "Birthday Date:", new { @class = "popup-content-label date_label must" })@Html.TextBoxFor(m => m.ServiceBookDates.BirthDate, new { @class = "popup-content-textbox-short date must" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.JoiningDate, "Joining Date:", new { @class = "popup-content-label date_label must" })@Html.TextBoxFor(m => m.ServiceBookDates.JoiningDate, new { @class = "popup-content-textbox-short date must" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ProbationPeriod, "Probation Period:", new { @class = "popup-content-label date_label must" })@Html.TextBoxFor(m => m.ServiceBookDates.ProbationPeriod, new { @class = "popup-content-textbox-short must" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ProbationDate, "Probation Date:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.ProbationDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ConfirmPeriod, "Confirm Period:", new { @class = "popup-content-label date_label must" })@Html.TextBoxFor(m => m.ServiceBookDates.ConfirmPeriod, new { @class = "popup-content-textbox-short must" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ConfirmationDate, "Confirm Date:", new { @class = "popup-content-label date_label must" })@Html.TextBoxFor(m => m.ServiceBookDates.ConfirmationDate, new { @class = "popup-content-textbox-short date must" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.LastIncrementDate, "Last Incre Date:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.LastIncrementDate, new { @class = "popup-content-textbox-short date " })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.LastPromotionDate, "Last Promo Date:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.LastPromotionDate, new { @class = "popup-content-textbox-short date " })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.LastTransferDate, "Last Trans Date :", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.LastTransferDate, new { @class = "popup-content-textbox-short date " })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.SeniorityDate, "Seniority Date:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.SeniorityDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.SeniorityNo, "Seniority No:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.SeniorityNo, new { @class = "popup-content-textbox-short" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.RetirementDate, "Retirement Date:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.RetirementDate, new { @class = "popup-content-textbox-short date", @readonly = "readonly" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ResignationDate, "ResignationDate:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.ResignationDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ResignReason, "ResignReason:", new { @class = "popup-content-label date_label" })@Html.TextAreaFor(m => m.ServiceBookDates.ResignReason, new { @class = "popup-content-textbox-short  ", @style = "height:9px" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.ServiceLastDate, "ServiceLastDate:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.ServiceLastDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.PFJoingDate, "PFJoiningDate:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.PFJoingDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.PensionJoingDate, "PensionJoiningDate:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.PensionJoingDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.PFExitDate, "PFExitDate:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.PFExitDate, new { @class = "popup-content-textbox-short date" })</div>
                            <div class="row6 content_margine">@Html.LabelFor(m => m.ServiceBookDates.PensionExitDate, "PensionExitDate:", new { @class = "popup-content-label date_label" })@Html.TextBoxFor(m => m.ServiceBookDates.PensionExitDate, new { @class = "popup-content-textbox-short date" })</div>
                        </div>
                    </div>
                </div>
                <div id="sec2" style="padding: 0em; height:362px">
                    <div class="empreporting_row content_margine">
                        <label class="popup-content-label">ReportingStructRights :</label>
                        <div class="popup-content-table">
                            <table class="lookuptableselected" id="ReportingStructRightslist" style="height:276px;width:496px">
                                <tr><th>ID</th><th style="height:23px ; width:690px">LookUp Selected Description</th></tr>
                            </table>

                        </div>

                        <div class="icon-rowreporting icon-row" style="margin-left:199px;margin-top:-113px">
                            <button data-p2btooltip="Lookup ReportingStructRights" class=" popup-content-icon-lookup" id="Lookup-ReportingStructRights-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                            <button data-p2btooltip="Create ReportingStructRights" class=" popup-content-icon-create" id="Create-ReportingStructRights-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                            <button data-p2btooltip="Edit ReportingStructRights" class=" popup-content-icon-edit" id="Edit-ReportingStructRights-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>
                            <button data-p2btooltip="Remove ReportingStructRights" class=" popup-content-icon-remove" id="Remove-ReportingStructRights-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                        </div>


                    </div>
                    <br />
                    <div class="popup-content-label2" style="margin-top:118px;margin-left:50px">
                        <br />
                        <div class="popup-content-label3"><a href="location" style="color:red">Click here to change Location Incharge</a></div>
                        <div class="popup-content-label3"><a href="department" style="color:red">Click here to change Department Incharge</a></div>
                    </div>
                </div>
                <div id="sec3" style="padding: 0em;">

                    <div class="empreporting_row content_margine">
                        @Html.LabelFor(m => m.EmployeeDocuments, "Document details :", new { @class = "popup-content-label add_label" })
                        <div class="popup-content-table">
                            <table class="lookuptableselected" id="EmployeeDocumentslist">
                                <tr><th>ID</th><th>LookUp Selected Description</th></tr>
                            </table>

                        </div>

                        <div class="icon-Document icon-row">
                            <button data-p2btooltip="Lookup Document Details" class=" popup-content-icon-lookup" id="Lookup-EmployeeDocuments-Employee"><span class="ui-icon ui-icon-folder-open popup-content-iconmark"></span></button>
                            <button data-p2btooltip="Create Document Details" class=" popup-content-icon-create" id="Create-EmployeeDocuments-Employee"><span class="ui-icon ui-icon-newwin popup-content-iconmark"></span></button>
                            @*<button data-p2btooltip="Edit Document Details" class=" popup-content-icon-edit" id="Edit-EmployeeDocuments-Employee"><span class="ui-icon ui-icon-pencil popup-content-iconmark"></span></button>*@
                            <button data-p2btooltip="View Document" class="popup-content-icon-view" id="view-EmployeeDocuments-Employee"><span class="ui-icon ui-icon-extlink popup-content-iconmark"></span></button>
                            <button data-p2btooltip="Delete Document Details" class=" popup-content-icon-remove" id="Remove-EmployeeDocuments-Employee"><span class="ui-icon ui-icon-trash popup-content-iconmark"></span></button>
                        </div>


                    </div>


                </div>



            </div>
        }
    </div>


</body>
</html>
<script>
    $(document).ready(function (e) {

        $('#Lookup-ResAddrs-Employee').attr('disabled', 'disabled');
        $('#Lookup-ResContactDetails-Employee').attr('disabled', 'disabled');
        $('#Lookup-PermAddrs-Employee').attr('disabled', 'disabled');
        $('#Lookup-PermContactDetails-Employee').attr('disabled', 'disabled');
        $('#Lookup-CorrsAddrs-Employee').attr('disabled', 'disabled');
        $('#Lookup-CorrsContactDetails-Employee').attr('disabled', 'disabled');

        $("#ServiceBookDates_BirthDate").on('focusout', function () {

            val = $(this).val();
            if (val) {
                $.get("@Url.Action("GetRetirementDay")", { data: val }, function (data) {
                    $("#ServiceBookDates_RetirementDate").val(data);
                });
              
            }
        });
        $('#Btn-Upload-Data').on('click', function (e) {
            $('<div></div>').PartialCreateDialog({
                height: '500',
                width: '700',
                form: '#frmlookup',
                title: 'Upload',
                htmlurl: '@Url.Action("PARTIAL","JSONUPLOAD")',
                state: "open",
                mode: 'edit',
                editurl: null,
                submiturl: null,
                editdata: 'a',
                forwarddata: 'a',
                returndatafunction: function (data) {
                    console.log(data);
                },
                submitfun: function (data) {
                    console.log(data);
                }
            });

            e.preventDefault();
        });
        $("#ServiceBookDates_BirthDate").on('change', function () {
            //$('#ServiceBookDates_JoiningDate').val('');
            val = $(this).val();
            if (val) {
                $.get("@Url.Action("GetRetirementDay")", { data: val }, function (data) {
                    $("#ServiceBookDates_RetirementDate").val(data);
                });
                $.get("@Url.Action("GetExtnServBook")", { data: $('#EmpCode').val() }, function (data) {
                    if (data == "true")
                    {
                        alert("  You can't change Retirement Date as Extension activity is done ..!");
                    }
                   
                });
            }
        });

        $("#Gender_drop,#MaritalStatus_drop").on("selectmenuchange", function () {

            if ($("#Gender_drop :selected").text() == "FEMALE") {
                if ($("#MaritalStatus_drop :selected").text() == "MARRIED") {
                    $("#BeforeM_disp,#Husband_disp").fadeIn();
                } else {
                    $("#BeforeM_disp,#Husband_disp").fadeOut();
                }
            }
            else {
                $("#BeforeM_disp,#Husband_disp").fadeOut();
            }
        });

        $("#ServiceBookDates_BirthDate").on('focusout', function () {
            if ($(this).val()) {
                var a = $.DateCheckWithTodayDate("#ServiceBookDates_BirthDate", "<");
                if (a == 0) {
                    alert("BirthDate Date Should Be Less Than TodayDate..!");
                    $("#ServiceBookDates_BirthDate").val('');
                }
            }
        });

        $('#ServiceBookDates_JoiningDate').on('focusout', function () {
            if (!$('#ServiceBookDates_BirthDate').val()) {
                alert('Enter Birthdate..!');
                $('#ServiceBookDates_JoiningDate').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_BirthDate',
                    enddate: '#ServiceBookDates_JoiningDate',
                });
                if (a == 0) {
                    alert("Joining Date Should Be Grater Than BirthDate..!"); $('#ServiceBookDates_JoiningDate').val('');
                }
            }
        });

        $('#ServiceBookDates_ProbationDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_ProbationDate').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_ProbationDate ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_ProbationDate ').val('');
                }
            }
        });


        $('#ServiceBookDates_ConfirmationDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_ConfirmationDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_ConfirmationDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_ConfirmationDates  ').val('');
                }
            }
        });

        $('#ServiceBookDates_LastIncrementDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_LastIncrementDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_LastIncrementDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_LastIncrementDate  ').val('');
                }
            }
        });

        $('#ServiceBookDates_LastPromotionDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_LastPromotionDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_LastPromotionDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_LastPromotionDate  ').val('');
                }
            }
        });

        $('#ServiceBookDates_LastTransferDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_LastTransferDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_LastTransferDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_LastTransferDate  ').val('');
                }
            }
        });

        $('#ServiceBookDates_SeniorityDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_SeniorityDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_SeniorityDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_SeniorityDate  ').val('');
                }
            }
        });

        $('#ServiceBookDates_RetirementDate').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_RetirementDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_RetirementDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_RetirementDate  ').val('');
                }
            }
             
        });

        @*$('#ServiceBookDates_RetirementDate').on('focusout', function (e) {
         
            $.get("@Url.Action("GetExtnServBook")", { data: $('#EmpCode').val() }, function (data) { 
                alert(data.Chk);
                if (data.Chk == true)
                {
                    alert('r');
                    $('#ServiceBookDates_RetirementDate').val(data.Date);
                    alert("  You can't change Retirement Date as Extension activity is done ..!");
                }
                return false;
            });
        });*@

        $('#ServiceBookDates_ResignationDate ').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_ResignationDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_ResignationDate  ',
                });
                if (a == 0) {
                    alert("Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_ResignationDate  ').val('');
                }
            }
        });

        $('#ServiceBookDates_ServiceLastDate ').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_ServiceLastDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_ServiceLastDate  ',
                });
                if (a == 0) {
                    alert("Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_ServiceLastDate  ').val('');
                }
            }
        });

        //$('#ServiceBookDates_ResignReason ').on('focusout', function (e) {
        //    if (!$('#ServiceBookDates_JoiningDate').val()) {
        //        alert('Enter Joining Date..!');
        //        $('#ServiceBookDates_ResignReason ').val('');
        //        return false;
        //        // e.preventDefault();
        //    }
        //    if ($(this).val()) {
        //        var a = $.StartEndDateCheck({
        //            startdate: '#ServiceBookDates_JoiningDate',
        //            enddate: '#ServiceBookDates_ResignReason  ',
        //        });
        //        if (a == 0) {
        //            alert("Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_ResignReason  ').val('');
        //        }
        //    }
        //});

        $('#ServiceBookDates_PensionJoingDate ').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_PensionJoingDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_PensionJoingDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('#ServiceBookDates_PensionJoingDate  ').val('');
                }
            }
        });

        $('#ServiceBookDates_PFExitDate ').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_PFExitDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_PFExitDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('# ServiceBookDates_PFExitDate ').val('');
                }
            }
        });

        $('#ServiceBookDates_PensionExitDate ').on('focusout', function (e) {
            if (!$('#ServiceBookDates_JoiningDate').val()) {
                alert('Enter Joining Date..!');
                $('#ServiceBookDates_PensionExitDate ').val('');
                return false;
                // e.preventDefault();
            }
            if ($(this).val()) {
                var a = $.StartEndDateCheck({
                    startdate: '#ServiceBookDates_JoiningDate',
                    enddate: '#ServiceBookDates_PensionExitDate  ',
                });
                if (a == 0) {
                    alert("  Date Should Be Grater Than Joining Date ..!"); $('# ServiceBookDates_PensionExitDate ').val('');
                }
            }
        });


        $('#ServiceBookDates_ConfirmPeriod').on('keyup', function () {
            if ($(this).val()) {
                if ($('#ServiceBookDates_JoiningDate').val()) {
                    var JoiningDate = $('#ServiceBookDates_JoiningDate').val();
                    var ConfirmationPeriod = $('#ServiceBookDates_ConfirmPeriod').val();
                    var temp = JoiningDate.split("/");
                    var ConfirmationDate = new Date(parseInt(temp[2]), parseInt(temp[1]), parseInt(temp[0]));
                    ConfirmationDate.setMonth(ConfirmationDate.getMonth() + parseInt(ConfirmationPeriod) - 1);
                    $('#ServiceBookDates_ConfirmationDate').val($.DateFormateStandardToDDMMYY(ConfirmationDate));
                } else {
                    alert("Enter Joining Date");
                    $('#ServiceBookDates_ConfirmPeriod').val('');
                }
            } else {
                $('#ServiceBookDates_ConfirmationDate').val('');
            }
        });
        $("#Grid_Formnew").hide();
        $('button').button();
        var ColNames = [];
        var ColModel = [];
        var SortName, Caption, url, width, height;
        //a.Id, a.Code, a.AccountNo
        ColModel = ['EmpCode', 'EmpName', 'Id'];
        ColNames = ['Emp Code', 'Emp Name', 'Id'];
        SortName = 'Id';
        Caption = 'Employee';
        url = '@Url.Action("P2BGrid")';
        width = 1000;
        height = 150;
        var btndisablenames = '#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee,#Edit-ResContactDetails-Employee,#Remove-ResContactDetails-Employee,#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee,#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee,#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee,#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee'
        var tablelist = '#ResAddrslist,#ResContactDetailslist,#PermAddrslist,#PermContactDetailslist,#CorrsAddrslist,#CorrsContactDetailslist';
        $('#JqGrid').P2BGrid(ColNames, ColModel, SortName, Caption, url, width, height);
        //$('#JqGrid1').P2BGrid(ColNames, ColModel, SortName, Caption, url, width, height);

        //function DateConvert(JsonDate) {
        //    var date = new Date(parseInt(JsonDate.substr(6)));
        //    var displayDate = $.datepicker.formatDate("dd/mm/yy", date);
        //    return displayDate;
        //};

        function DateConvert(JsonDate) {
            
            var timestamp = parseInt(JsonDate.substr(6).replace(')', '').replace('(', '')); 
            var date = new Date(timestamp);  

            var options = {
                timeZone: 'Asia/Kolkata',
                weekday: 'short',
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            };
          
            var istDate = date.toLocaleString('en-IN', options); 

            var displayDate = $.datepicker.formatDate("dd/mm/yy", new Date(istDate));

            return displayDate;
        }

        //function DateConvert(JsonDate) {
            
        //    var timestamp = JsonDate.replace(/^\/Date\((\d+)\)\/$/, "$1");  
   
        //    var date = new Date(parseInt(timestamp));
        
        //    var day = date.getUTCDate();
        //    var month = date.getUTCMonth() + 1;  
        //    var year = date.getUTCFullYear();
           
        //    var formattedDate = (day < 10 ? "0" + day : day) + "/" + (month < 10 ? "0" + month : month) + "/" + year;

        //    return formattedDate;
        //}


        function AssignData() {
            dt = $('#JqGrid').P2BGrid.P2BEdDelV('#JqGrid', 'Id');
            //   dl = $('#JqGrid1').P2BGrid.P2BEdDelV('#JqGrid1', 'Id');
        }
        $('#tabs').tabs();
        $('#Create_Dialog').P2BCreateDialog();
        $('#Create').on("click", function () {
            $('#frmEmployee').trigger('reset');

            $('#Lookup-ResAddrs-Employee').button().button('disable');
            $('#Lookup-PermAddrs-Employee').button().button('disable');
            $('#Lookup-CorrsAddrs-Employee').button().button('disable');
            $('#Lookup-ResContactDetails-Employee').button().button('disable');
            $('#Lookup-PermContactDetails-Employee').button().button('disable');
            $('#Lookup-CorrsContactDetails-Employee').button().button('disable');

            $('#Create_Dialog').P2BCreateDialog('', '', '', '', 'Create Employee Master', 'open', '@Url.Action("create")', '#frmEmployee', 'Message :', 'Request Falied :', '#JqGrid', 552, 1188, tablelist, '', function (data) { });
            //  $('#ServiceBookDates_LastIncrementDate,#ServiceBookDates_LastPromotionDate,#ServiceBookDates_LastTransferDat').attr("readOnly", true);
            $("#Lookup-EmpName-FName").button().button('enable');
            $("#Create-EmpName-FName").button().button('enable');
            $("#Edit-EmpName-FName").button().button('enable');
            $("#Lookup-FatherName-FName").button().button('enable');
            $("#Create-FatherName-FName").button().button('enable');
            $("#Create-MotherName-FName").button().button('enable');
            $("#Lookup-MotherName-FName").button().button('enable');
            $("#Edit-MotherName-FName").button().button('enable');
            $("#Edit-FatherName-FName").button().button('enable');
            $("#Lookup-HusbandName-FName").button().button('enable');
            $("#Create-HusbandName-FName").button().button('enable');
            $("#Edit-HusbandName-FName").button().button('enable');
            $("#Lookup-BeforeMarriageName-FName").button().button('enable');
            $("#Create-BeforeMarriageName-FName").button().button('enable');
            $("#Edit-BeforeMarriageName-FName").button().button('enable');
            $('#JobPosition_drop').selectmenu("widget").show();
            $('#JobPosition_drop').parent('div').show();
            $('#Corporate_drop').selectmenu("widget").show();
            $('#Corporate_drop').parent('div').show();
            $('#Region_drop').selectmenu("widget").show();
            $('#Region_drop').parent('div').show();
            $('#Company_drop').selectmenu("widget").show();
            $('#Company_drop').parent('div').show();
            $('#Division_drop').selectmenu("widget").show();
            $('#Division_drop').parent('div').show();
            $('#Location_drop').selectmenu("widget").show();
            $('#Location_drop').parent('div').show();
            $('#Department_drop').selectmenu("widget").show();
            $('#Department_drop').parent('div').show();
            $('#Group_drop').selectmenu("widget").show();
            $('#Group_drop').parent('div').show();
            $('#Unit_drop').selectmenu("widget").show();
            $('#Unit_drop').parent('div').show();
            $('#Grade_drop').selectmenu("widget").show();
            $('#Grade_drop').parent('div').show();
            $('#Level_drop').selectmenu("widget").show();
            $('#Level_drop').parent('div').show();
            $('#JobStatus_drop').selectmenu("widget").show();
            $('#JobStatus_drop').parent('div').show();
            $('#Job_drop').selectmenu("widget").show();
            $('#Job_drop').parent('div').show();
            $('.selectmenu_geo,.selectmenu_pay,.selectmenu_fun').parent().hide();
            $('.selectmenu_geo').DynamicSelectMenuAppend("@Url.Action("PopulateDropDownListGeo")");
            $('.selectmenu_geo').DynamicSelectMenuOnChange("@Url.Action("PopulateDropDownlistOnChangeGeo")");

            $('.selectmenu_pay').DynamicSelectMenuAppend("@Url.Action("PopulateDropDownListPay")");
            $('.selectmenu_pay').DynamicSelectMenuOnChange("@Url.Action("PopulateDropDownlistOnChangePay")");

            $('.selectmenu_fun').DynamicSelectMenuAppend("@Url.Action("PopulateDropDownListFun")");
            $('.selectmenu_fun').DynamicSelectMenuOnChange("@Url.Action("PopulateDropDownlistOnChangeFun")");

            $('#MaritalStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 128, '');
            $('#Gender_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 129, '');
            $('#ReportingHR_drop').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "ReportingStruct")", "", '');

            $('#ReportingLevel1_drop').P2BSelectMenuAppend('@Url.Action("PopulateDropDownList", "ReportingStruct")', "", "");
            $('#ReportingLevel2_drop').P2BSelectMenuAppend('@Url.Action("PopulateDropDownList", "ReportingStruct")', "", "");
            $('#ReportingLevel3_drop').P2BSelectMenuAppend('@Url.Action("PopulateDropDownList", "ReportingStruct")', "", "");
            $("#BeforeM_disp,#Husband_disp").fadeOut();
            $('#EmpName_FullNameFML,#FatherName_FullNameFML,#BeforeMarriageName_FullNameFML,#MotherName_FullNameFML,#HusbandName_FullNameFML').attr('readonly', true);      
        });


        function parseJsonDate(jsonDateString) {
            return new Date(parseInt(jsonDateString.replace('/Date(', '')));
        }
        var btnDisnames = '#Lookup-EmpName-FName,#Create-EmpName-FName,#Edit-EmpName-FName,#Lookup-FatherName-FName,#Create-FatherName-FName,#Edit-FatherName-FName,#Lookup-MotherName-FName,#Create-MotherName-FName,#Edit-MotherName-FName';
        $.fn.P2BButtondisable = function (nameidclassofbuttontodisable) {
            nameidclassofbuttontodisable = ".popup-content-drop-icon-lookup,.popup-content-drop-icon-create,.popup-content-drop-icon-edit";
            var init = jQuery(this);
            jQuery(this).find(nameidclassofbuttontodisable).button().button('disable').addClass('ButtonHover').css("background-color", "rgba(241, 241, 241, 0.66)");
        };
        $.fn.P2BButtonenable = function (nameidclassofbuttontodisable) {
            nameidclassofbuttontodisable = ".popup-content-drop-icon-lookup,.popup-content-drop-icon-create,.popup-content-drop-icon-edit";
            var init = jQuery(this);
            jQuery(this).find(nameidclassofbuttontodisable).button().button('enable').removeClass('ButtonHover').css("background-color", "rgba(241, 241, 241, 0.66)");
        };

        var getEmpcode;

        $('#Edit').on('click', function () {
            AssignData();
            //$('.selectmenu_geo,.selectmenu_pay,.selectmenu_fun').parent().hide();
            $('#Lookup-ResAddrs-Employee').button().button('enable');
            $('#Lookup-PermAddrs-Employee').button().button('enable');
            $('#Lookup-CorrsAddrs-Employee').button().button('enable');
            $('#Lookup-ResContactDetails-Employee').button().button('enable');
            $('#Lookup-PermContactDetails-Employee').button().button('enable');
            $('#Lookup-CorrsContactDetails-Employee').button().button('enable');
            

            $('#JobPosition_drop').selectmenu("widget").show();
            $('#JobPosition_drop').parent('div').show();
            $('#Corporate_drop').selectmenu("widget").show();
            $('#Corporate_drop').parent('div').show();
            $('#Region_drop').selectmenu("widget").show();
            $('#Region_drop').parent('div').show();
            $('#Company_drop').selectmenu("widget").show();
            $('#Company_drop').parent('div').show();
            $('#Division_drop').selectmenu("widget").show();
            $('#Division_drop').parent('div').show();
            $('#Location_drop').selectmenu("widget").show();
            $('#Location_drop').parent('div').show();
            $('#Department_drop').selectmenu("widget").show();
            $('#Department_drop').parent('div').show();
            $('#Group_drop').selectmenu("widget").show();
            $('#Group_drop').parent('div').show();
            $('#Unit_drop').selectmenu("widget").show();
            $('#Unit_drop').parent('div').show();
            $('#Grade_drop').selectmenu("widget").show();
            $('#Grade_drop').parent('div').show();
            $('#Level_drop').selectmenu("widget").show();
            $('#Level_drop').parent('div').show();
            $('#JobStatus_drop').selectmenu("widget").show();
            $('#JobStatus_drop').parent('div').show();
            $('#Job_drop').selectmenu("widget").show();
            $('#Job_drop').parent('div').show();
            $('.date').off('focusout');
            $('#Create_Dialog').P2BEditModalDialog('@Url.Action("Edit")', dt.Id, '@Url.Action("EditSave")', "Edit Employee Data ->" + JSON.stringify(dt) + "", '#frmEmployee', dt.Id, 'Message : ', 'Request Falied :', '#JqGrid', 552, 1012, tablelist, btndisablenames, function (data) {
                $.each(data[0], function (i, k) {
                    $('#frmEmployee').trigger('reset');
                    $('#Create_Dialog').P2BButtonenable(btnDisnames);
                    getEmpcode = k.Code;
                    console.log(k.Code);
                    $('#EmpCode').val(k.Code);
                    $('#EmpCode').attr('readonly', 'readonly');
                    //    $('#ServiceBookDates_LastIncrementDate,#ServiceBookDates_LastPromotionDate,#ServiceBookDates_LastTransferDat').attr("readOnly", true);
                    $('#CardCode').val(k.CardCode);
                    if (k.GeoStruct_Corporate_Id != 0) {
                        $('#Corporate_drop').parent().show();
                        $('#Corporate_drop').P2BSelectMenuAppend("@Url.Action("PopulateCorporateList", "Employee")", k.GeoStruct_Corporate_Id, k.GeoStruct_Corporate_Id);
                    }
                    else {
                        $('#Corporate_drop').selectmenu("widget").hide();
                        $('#Corporate_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Region_Id != 0) {
                        $('#Region_drop').parent().show();

                        $('#Region_drop').P2BSelectMenuAppend("@Url.Action("PopulateRegionList", "Employee")", k.GeoStruct_Region_Id, k.GeoStruct_Region_Id);
                    } else {
                        $('#Region_drop').selectmenu("widget").hide();
                        $('#Region_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Company_Id != 0) {
                        $('#Company_drop').parent().show();

                        $('#Company_drop').P2BSelectMenuAppend("@Url.Action("PopulateCompanyList", "Employee")", k.GeoStruct_Company_Id, k.GeoStruct_Company_Id);
                    } else {
                        $('#Company_drop').selectmenu("widget").hide();
                        $('#Company_drop').parent('div').hide();
                    }

                    if (k.GeoStruct_Division_Id != 0) {
                        $('#Division_drop').parent().show();

                        $('#Division_drop').P2BSelectMenuAppend("@Url.Action("PopulateDivisionList", "Employee")", k.GeoStruct_Division_Id, k.GeoStruct_Division_Id);
                    } else {
                        $('#Division_drop').selectmenu("widget").hide();
                        $('#Division_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Location_Id != 0) {
                        $('#Location_drop').parent().show();

                        $('#Location_drop').P2BSelectMenuAppend("@Url.Action("PopulateLocationList", "Employee")", k.GeoStruct_Location_Id, k.GeoStruct_Location_Id);
                    } else {
                        $('#Location_drop').selectmenu("widget").hide();
                        $('#Location_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Department_Id != 0) {
                        $('#Department_drop').parent().show();

                        $('#Department_drop').P2BSelectMenuAppend("@Url.Action("PopulateDepartmentList", "Employee")", k.GeoStruct_Department_Id, k.GeoStruct_Department_Id);
                    } else {
                        $('#Department_drop').selectmenu("widget").hide();
                        $('#Department_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Group_Id != 0) {
                        $('#Group_drop').parent().show();

                        $('#Group_drop').P2BSelectMenuAppend("@Url.Action("PopulateGroupList", "Employee")", k.GeoStruct_Group_Id, k.GeoStruct_Group_Id);
                    } else {
                        $('#Group_drop').selectmenu("widget").hide();
                        $('#Group_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Unit_Id != 0) {
                        $('#Unit_drop').parent().show();

                        $('#Unit_drop').P2BSelectMenuAppend("@Url.Action("PopulateUnitList", "Employee")", k.GeoStruct_Unit_Id, k.GeoStruct_Unit_Id);
                    } else {
                        $('#Unit_drop').selectmenu("widget").hide();
                        $('#Unit_drop').parent('div').hide();
                    }
                    if (k.PayStruct_Grade_Id != 0) {
                        $('#Grade_drop').parent().show();

                        $('#Grade_drop').P2BSelectMenuAppend("@Url.Action("PopulateGradeList", "Employee")", k.PayStruct_Grade_Id, k.PayStruct_Grade_Id);
                    } else {
                        $('#Grade_drop').selectmenu("widget").hide();
                        $('#Grade_drop').parent('div').hide();
                    }
                    if (k.PayStruct_Level_Id != 0) {
                        $('#Level_drop').parent().show();

                        $('#Level_drop').P2BSelectMenuAppend("@Url.Action("PopulateLevelList", "Employee")", k.PayStruct_Level_Id, k.PayStruct_Level_Id);
                    } else {
                        $('#Level_drop').selectmenu("widget").hide();
                        $('#Level_drop').parent('div').hide();
                    }


                    if (k.FuncStruct_Job_Id != 0) {
                        $('#Job_drop').parent().show();

                        $('#Job_drop').P2BSelectMenuAppend("@Url.Action("PopulateJobNameList", "Employee")", k.FuncStruct_Job_Id, k.FuncStruct_Job_Id);
                    } else {
                        $('#Job_drop').selectmenu("widget").hide();
                        $('#Job_drop').parent('div').hide();
                    }

                    if (k.FuncStruct_Position_Id != 0) {
                        $('#JobPosition_drop').parent().show();

                        $('#JobPosition_drop').P2BSelectMenuAppend("@Url.Action("PopulatePositionList", "Employee")", k.FuncStruct_Position_Id, k.FuncStruct_Position_Id);
                    } else {
                        $('#JobPosition_drop').selectmenu("widget").hide();
                        $('#JobPosition_drop').parent('div').hide();
                    }

                    if (k.PayStruct_JobStatus_Id != 0) {
                        $('#JobStatus_drop').parent().show();

                        $('#JobStatus_drop').P2BSelectMenuAppend("@Url.Action("PopulateJobStatusList", "Employee")", k.PayStruct_JobStatus_Id, k.PayStruct_JobStatus_Id);
                    } else {
                        $('#JobStatus_drop').selectmenu("widget").hide();
                        $('#JobStatus_drop').parent('div').hide();
                    }

                    if (k.ServiceBookDates != null) {
                       // alert(DateConvert(k.ServiceBookDates.BirthDate));
                        if (k.ServiceBookDates.BirthDate != null) { $('#ServiceBookDates_BirthDate').val(DateConvert(k.ServiceBookDates.BirthDate)); }    
                        if (k.ServiceBookDates.JoiningDate != null) { $('#ServiceBookDates_JoiningDate').val(DateConvert(k.ServiceBookDates.JoiningDate)); }
                        if (k.ServiceBookDates.ProbationDate != null) { $('#ServiceBookDates_ProbationDate').val(DateConvert(k.ServiceBookDates.ProbationDate)); }
                        if (k.ServiceBookDates.ConfirmationDate != null) { $('#ServiceBookDates_ConfirmationDate').val(DateConvert(k.ServiceBookDates.ConfirmationDate)); }
                        if (k.ServiceBookDates.LastIncrementDate != null) { $('#ServiceBookDates_LastIncrementDate').val(DateConvert(k.ServiceBookDates.LastIncrementDate)); }
                        if (k.ServiceBookDates.LastPromotionDate != null) { $('#ServiceBookDates_LastPromotionDate').val(DateConvert(k.ServiceBookDates.LastPromotionDate)); }
                        if (k.ServiceBookDates.LastTransferDate != null) { $('#ServiceBookDates_LastTransferDate').val(DateConvert(k.ServiceBookDates.LastTransferDate)); }
                        if (k.ServiceBookDates.SeniorityDate != null) { $('#ServiceBookDates_SeniorityDate').val(DateConvert(k.ServiceBookDates.SeniorityDate)); }
                        if (k.ServiceBookDates.RetirementDate != null) { $('#ServiceBookDates_RetirementDate').val(DateConvert(k.ServiceBookDates.RetirementDate)); }

                        if (k.ServiceBookDates.ResignationDate != null) { $('#ServiceBookDates_ResignationDate').val(DateConvert(k.ServiceBookDates.ResignationDate)); }
                        //  if (k.ServiceBookDates.ResignReason != null) { $('#ServiceBookDates_ResignReason').val(DateConvert(k.ServiceBookDates.ResignReason)); }
                        if (k.ServiceBookDates.ServiceLastDate != null) { $('#ServiceBookDates_ServiceLastDate').val(DateConvert(k.ServiceBookDates.ServiceLastDate)); }
                        if (k.ServiceBookDates.PFJoingDate != null) { $('#ServiceBookDates_PFJoingDate').val(DateConvert(k.ServiceBookDates.PFJoingDate)); }
                        if (k.ServiceBookDates.PensionJoingDate != null) { $('#ServiceBookDates_PensionJoingDate').val(DateConvert(k.ServiceBookDates.PensionJoingDate)); }
                        if (k.ServiceBookDates.PFExitDate != null) { $('#ServiceBookDates_PFExitDate').val(DateConvert(k.ServiceBookDates.PFExitDate)); }
                        if (k.ServiceBookDates.PensionExitDate != null) { $('#ServiceBookDates_PensionExitDate').val(DateConvert(k.ServiceBookDates.PensionExitDate)); }
                        $('#ServiceBookDates_ProbationPeriod').val(k.ServiceBookDates.ProbationPeriod);
                        $('#ServiceBookDates_ConfirmPeriod').val(k.ServiceBookDates.ConfirmPeriod);
                        $('#ServiceBookDates_SeniorityNo').val(k.ServiceBookDates.SeniorityNo);
                        $('#ServiceBookDates_ResignReason').val(k.ServiceBookDates.ResignReason);
                    }


                    $('#MaritalStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 128, k.MaritalStatus_Id);
                    $('#Gender_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 129, k.Gender_Id);
                    $('#EmpStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 101, k.EmpStatus_Id);
                    $('#EmpActingStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 102, k.EmpActingStatus_Id);
                    $('#EmpName_FullNameFML').val(k.EmpName_FullNameFML);
                    $('#EmpName_id').val(k.EmpName_Id);
                    $('#FatherName_FullNameFML').val(k.FatherName_FullNameFML);
                    $('#FatherName_id').val(k.FatherName_Id);
                    $('#MotherName_FullNameFML').val(k.MotherName_FullNameFML);
                    $('#MotherName_id').val(k.MotherNam_Id);

                    $("#Gender_drop,#MaritalStatus_drop").on("selectmenuchange", function () {

                        if ($("#Gender_drop :selected").text() == "FEMALE") {
                            if ($("#MaritalStatus_drop :selected").text() == "MARRIED") {
                                $("#BeforeM_disp,#Husband_disp").fadeIn();
                            } else {
                                $("#BeforeM_disp,#Husband_disp").fadeOut();
                            }
                        }
                        else {
                            $("#BeforeM_disp,#Husband_disp").fadeOut();
                        }
                    });

                    $('#HusbandName_FullNameFML').val(k.HusbandName_FullNameFML);
                    $('#HusbandName_id').val(k.HusbandName_Id);
                    $('#BeforeMarriageName_FullNameFML').val(k.BeforeMarriageName_FullNameFML);
                    $('#BeforeMarriageName_id').val(k.BeforeMarriageName_Id);
                    $('#ResAddrslist').P2BLookUpEncapsulate('#ResAddrslist', 'ResAddrslist', k.ResAddrs_Id, k.ResAddrs_FullDetails, 'ResAddrslist', '#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee', 'N');
                    $('#ResContactDetailslist').P2BLookUpEncapsulate('#ResContactDetailslist', 'ResContactDetailslist', k.ResContactDetails_Id, k.ResContactDetails_FullDetails, 'ResContactDetailslist', '#Edit-ResContactDetails-Employee,#Remove-ResContactDetails-Employee', 'N');

                    $('#PermAddrslist').P2BLookUpEncapsulate('#PermAddrslist', 'PermAddrslist', k.PermAddrs_Id, k.PermAddrs_FullDetails, 'PermAddrslist', '#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee', 'N');
                    $('#PermContactDetailslist').P2BLookUpEncapsulate('#PermContactDetailslist', 'PermContactDetailslist', k.PermContactDetails_Id, k.PermContactDetails_FullDetails, 'PermContactDetailslist', '#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee', 'N');

                    $('#CorrsAddrslist').P2BLookUpEncapsulate('#CorrsAddrslist', 'CorrsAddrslist', k.CorrsAddrs_Id, k.CorrsAddrs_FullDetails, 'CorrsAddrslist', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee', 'N');
                    $('#CorrsContactDetailslist').P2BLookUpEncapsulate('#CorrsContactDetailslist', 'CorrsContactDetailslist', k.CorrsContactDetails_Id, k.CorrsContactDetails_FullDetails, 'CorrsContactDetailslist', '#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee', 'N');

                });
                //partial page bind
                $.each(data[1], function (i, k) {
                    $('#ReportingStructRightslist').P2BLookUpEncapsulate('#ReportingStructRightslist', 'ReportingStructRightslist', k.id, k.val, 'ReportingStructRightslist', '#Edit-ReportingStructRights-Employee,#Remove-ReportingStructRights-Employee', 'A');

                    $('#EmployeeDocumentslist').P2BLookUpEncapsulate('#EmployeeDocumentslist', 'EmployeeDocumentslist', k.EmpDoc_id, k.EmpDoc_val, 'EmployeeDocumentslist', '#Edit-EmployeeDocuments-Employee,#Remove-EmployeeDocuments-Employee', 'A');
                });
                $('#Autho_Allow').val(data[3]);
            });
        });



        //create Emp offf
        $('#createEmpoff').on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("_EmpOfficial", "Employee")', 'Create Emp Official', 'open', '@Url.Action("CreateEmpoff", "Employee")', '#frmPayProcessGroup', 'Message :', 'Request Falied :', '#JqGrid', 700, 700, '', '', '', '#frmPayProcessGroup', '#Edit-PayProcessGroup-PayrollPeriod,#Remove-PayProcessGroup-PayrollPeriod', function (data) {
                // to show data which is created in partial page
                $('#PayProcessGrouplist').P2BLookUpEncapsulate('#PayProcessGrouplist', 'PayProcessGrouplist', data[0], data[1], 'PayProcessGrouplist', btndisablenames, 'N');
            });
            event.preventDefault();
        });
        $('#View').button().click(function (event) {
            AssignData();
            $('#JobPosition_drop').selectmenu("widget").show();
            $('#JobPosition_drop').parent('div').show();
            $('#Corporate_drop').selectmenu("widget").show();
            $('#Corporate_drop').parent('div').show();
            $('#Region_drop').selectmenu("widget").show();
            $('#Region_drop').parent('div').show();
            $('#Company_drop').selectmenu("widget").show();
            $('#Company_drop').parent('div').show();
            $('#Division_drop').selectmenu("widget").show();
            $('#Division_drop').parent('div').show();
            $('#Location_drop').selectmenu("widget").show();
            $('#Location_drop').parent('div').show();
            $('#Department_drop').selectmenu("widget").show();
            $('#Department_drop').parent('div').show();
            $('#Group_drop').selectmenu("widget").show();
            $('#Group_drop').parent('div').show();
            $('#Unit_drop').selectmenu("widget").show();
            $('#Unit_drop').parent('div').show();
            $('#Grade_drop').selectmenu("widget").show();
            $('#Grade_drop').parent('div').show();
            $('#Level_drop').selectmenu("widget").show();
            $('#Level_drop').parent('div').show();
            $('#JobStatus_drop').selectmenu("widget").show();
            $('#JobStatus_drop').parent('div').show();
            $('#Job_drop').selectmenu("widget").show();
            $('#Job_drop').parent('div').show();
            // var btnDisnames = '#Lookup-EmpName-FName,#Lookup-ResAddrs-Employee,#Create-ResAddrs-Employee,#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee,#Lookup-ResContactDetails-Employee,#Create-ResContactDetails-Employee,#Edit-ResContactDetails-Employee,#Remove-ResContactDetails-Employee,#Lookup-PermAddrs-Employee,#Create-PermAddrs-Employee,#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee,#Lookup-PermContactDetails-Employee,#Create-PermContactDetails-Employee,#Lookup-PermContactDetails-Employee,#Create-PermContactDetails-Employee,#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee,#Lookup-CorrsAddrs-Employee,#Create-CorrsAddrs-Employee,#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee,#Lookup-CorrsContactDetails-Employee,#Create-CorrsContactDetails-Employee,#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee';

            $('#Create_Dialog').P2BViewModalDialog('@Url.Action("Edit")', dt.Id, 'View Personal info', tablelist, btnDisnames, 552, 1012, '#Autho', '@Url.Action("AuthSave")', dt.Id, '', '', '', '', '#JqGrid', function (data) {
                $.each(data[0], function (i, k) {
                    $('#frmEmployee').trigger('reset');
                    $('#Create_Dialog').P2BButtondisable(btnDisnames);
                    console.log(k.Code);
                    $('#EmpCode').val(k.Code);
                    $('#EmpCode').attr('readonly', 'readonly');
                    $('#CardCode').val(k.CardCode);
                    if (k.GeoStruct_Corporate_Id != 0) {
                        $('#Corporate_drop').P2BSelectMenuAppend("@Url.Action("PopulateCorporateList", "Employee")", k.GeoStruct_Corporate_Id, k.GeoStruct_Corporate_Id);
                    }
                    else {
                        $('#Corporate_drop').selectmenu("widget").hide();
                        $('#Corporate_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Region_Id != 0) {
                        $('#Region_drop').P2BSelectMenuAppend("@Url.Action("PopulateRegionList", "Employee")", k.GeoStruct_Region_Id, k.GeoStruct_Region_Id);
                    } else {
                        $('#Region_drop').selectmenu("widget").hide();
                        $('#Region_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Company_Id != 0) {
                        $('#Company_drop').P2BSelectMenuAppend("@Url.Action("PopulateCompanyList", "Employee")", k.GeoStruct_Company_Id, k.GeoStruct_Company_Id);
                    } else {
                        $('#Company_drop').selectmenu("widget").hide();
                        $('#Company_drop').parent('div').hide();
                    }

                    if (k.GeoStruct_Division_Id != 0) {

                        $('#Division_drop').P2BSelectMenuAppend("@Url.Action("PopulateDivisionList", "Employee")", k.GeoStruct_Division_Id, k.GeoStruct_Division_Id);
                    } else {
                        $('#Division_drop').selectmenu("widget").hide();
                        $('#Division_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Location_Id != 0) {

                        $('#Location_drop').P2BSelectMenuAppend("@Url.Action("PopulateLocationList", "Employee")", k.GeoStruct_Location_Id, k.GeoStruct_Location_Id);
                    } else {
                        $('#Location_drop').selectmenu("widget").hide();
                        $('#Location_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Department_Id != 0) {

                        $('#Department_drop').P2BSelectMenuAppend("@Url.Action("PopulateDepartmentList", "Employee")", k.GeoStruct_Department_Id, k.GeoStruct_Department_Id);
                    } else {
                        $('#Department_drop').selectmenu("widget").hide();
                        $('#Department_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Group_Id != 0) {

                        $('#Group_drop').P2BSelectMenuAppend("@Url.Action("PopulateGroupList", "Employee")", k.GeoStruct_Group_Id, k.GeoStruct_Group_Id);
                    } else {
                        $('#Group_drop').selectmenu("widget").hide();
                        $('#Group_drop').parent('div').hide();
                    }
                    if (k.GeoStruct_Unit_Id != 0) {

                        $('#Unit_drop').P2BSelectMenuAppend("@Url.Action("PopulateUnitList", "Employee")", k.GeoStruct_Unit_Id, k.GeoStruct_Unit_Id);
                    } else {
                        $('#Unit_drop').selectmenu("widget").hide();
                        $('#Unit_drop').parent('div').hide();
                    }
                    if (k.PayStruct_Grade_Id != 0) {

                        $('#Grade_drop').P2BSelectMenuAppend("@Url.Action("PopulateGradeList", "Employee")", k.PayStruct_Grade_Id, k.PayStruct_Grade_Id);
                    } else {
                        $('#Grade_drop').selectmenu("widget").hide();
                        $('#Grade_drop').parent('div').hide();
                    }
                    if (k.PayStruct_Level_Id != 0) {

                        $('#Level_drop').P2BSelectMenuAppend("@Url.Action("PopulateLevelList", "Employee")", k.PayStruct_Level_Id, k.PayStruct_Level_Id);
                    } else {
                        $('#Level_drop').selectmenu("widget").hide();
                        $('#Level_drop').parent('div').hide();
                    }


                    if (k.FuncStruct_Job_Id != 0) {
                        $('#Job_drop').P2BSelectMenuAppend("@Url.Action("PopulateJobNameList", "Employee")", k.FuncStruct_Job_Id, k.FuncStruct_Job_Id);
                    } else {
                        $('#Job_drop').selectmenu("widget").hide();
                        $('#Job_drop').parent('div').hide();
                    }

                    if (k.FuncStruct_Position_Id != 0) {
                        $('#JobPosition_drop').P2BSelectMenuAppend("@Url.Action("PopulatePositionList", "Employee")", k.FuncStruct_Position_Id, k.FuncStruct_Position_Id);
                    } else {
                        $('#JobPosition_drop').selectmenu("widget").hide();
                        $('#JobPosition_drop').parent('div').hide();
                    }

                    if (k.PayStruct_JobStatus_Id != 0) {
                        $('#JobStatus_drop').P2BSelectMenuAppend("@Url.Action("PopulateJobStatusList", "Employee")", k.PayStruct_JobStatus_Id, k.PayStruct_JobStatus_Id);
                    } else {
                        $('#JobStatus_drop').selectmenu("widget").hide();
                        $('#JobStatus_drop').parent('div').hide();
                    }

                    if (k.ServiceBookDates.BirthDate != null) { $('#ServiceBookDates_BirthDate').val(DateConvert(k.ServiceBookDates.BirthDate)); }
                    if (k.ServiceBookDates.JoiningDate != null) { $('#ServiceBookDates_JoiningDate').val(DateConvert(k.ServiceBookDates.JoiningDate)); }
                    if (k.ServiceBookDates.ProbationDate != null) { $('#ServiceBookDates_ProbationDate').val(DateConvert(k.ServiceBookDates.ProbationDate)); }
                    if (k.ServiceBookDates.ConfirmationDate != null) { $('#ServiceBookDates_ConfirmationDate').val(DateConvert(k.ServiceBookDates.ConfirmationDate)); }
                    if (k.ServiceBookDates.LastIncrementDate != null) { $('#ServiceBookDates_LastIncrementDate').val(DateConvert(k.ServiceBookDates.LastIncrementDate)); }
                    if (k.ServiceBookDates.LastPromotionDate != null) { $('#ServiceBookDates_LastPromotionDate').val(DateConvert(k.ServiceBookDates.LastPromotionDate)); }
                    if (k.ServiceBookDates.LastTransferDate != null) { $('#ServiceBookDates_LastTransferDate').val(DateConvert(k.ServiceBookDates.LastTransferDate)); }
                    if (k.ServiceBookDates.SeniorityDate != null) { $('#ServiceBookDates_SeniorityDate').val(DateConvert(k.ServiceBookDates.SeniorityDate)); }
                    if (k.ServiceBookDates.RetirementDate != null) { $('#ServiceBookDates_RetirementDate').val(DateConvert(k.ServiceBookDates.RetirementDate)); }


                    if (k.ServiceBookDates.ResignationDate != null) { $('#ServiceBookDates_ResignationDate').val(DateConvert(k.ServiceBookDates.ResignationDate)); }
                    if (k.ServiceBookDates.ResignReason != null) { $('#ServiceBookDates_ResignReason').val(DateConvert(k.ServiceBookDates.ResignReason)); }
                    //   if (k.ServiceBookDates.ServiceLastDate != null) { $('#ServiceBookDates_ServiceLastDate').val(DateConvert(k.ServiceBookDates.ServiceLastDate)); }
                    if (k.ServiceBookDates.PFJoingDate != null) { $('#ServiceBookDates_PFJoingDate').val(DateConvert(k.ServiceBookDates.PFJoingDate)); }
                    if (k.ServiceBookDates.PensionJoingDate != null) { $('#ServiceBookDates_PensionJoingDate').val(DateConvert(k.ServiceBookDates.PensionJoingDate)); }
                    if (k.ServiceBookDates.PFExitDate != null) { $('#ServiceBookDates_PFExitDate').val(DateConvert(k.ServiceBookDates.PFExitDate)); }
                    if (k.ServiceBookDates.PensionExitDate != null) { $('#ServiceBookDates_PensionExitDate').val(DateConvert(k.ServiceBookDates.PensionExitDate)); }
                    $('#ServiceBookDates_ProbationPeriod').val(k.ServiceBookDates.ProbationPeriod);
                    $('#ServiceBookDates_ConfirmPeriod').val(k.ServiceBookDates.ConfirmPeriod);
                    $('#ServiceBookDates_SeniorityNo').val(k.ServiceBookDates.SeniorityNo);

                    $('#MaritalStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 128, k.MaritalStatus_Id);
                    $('#Gender_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 129, k.Gender_Id);
                    $('#EmpStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 101, k.EmpStatus_Id);
                    $('#EmpActingStatus_drop').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 102, k.EmpActingStatus_Id);
                    $('#ServiceBookDates_ResignReason').val(k.ServiceBookDates.ResignReason);
                    $('#EmpName_FullNameFML').val(k.EmpName_FullNameFML);
                    $('#FatherName_FullNameFML').val(k.FatherName_FullNameFML);
                    $('#MotherName_FullNameFML').val(k.MotherName_FullNameFML);
                    $('#HusbandName_FullNameFML').val(k.HusbandName_FullNameFML);
                    $('#BeforeMarriageName_FullNameFML').val(k.BeforeMarriageName_FullNameFML);
                });

                //partial page bind
                $.each(data[0], function (i, k) {
                    $('#ResAddrslist').P2BLookUpEncapsulate('#ResAddrslist', 'ResAddrslist', k.ResAddrs_Id, k.ResAddrs_FullDetails, 'ResAddrslist', 'view', 'N');
                    $('#ResContactDetailslist').P2BLookUpEncapsulate('#ResContactDetailslist', 'ResContactDetailslist', k.ResContactDetails_Id, k.ResContactDetails_FullDetails, 'ResContactDetailslist', 'view', 'N');

                    $('#PermAddrslist').P2BLookUpEncapsulate('#PermAddrslist', 'PermAddrslist', k.PermAddrs_Id, k.PermAddrs_FullDetails, 'PermAddrslist', 'view', 'N');
                    $('#PermContactDetailslist').P2BLookUpEncapsulate('#PermContactDetailslist', 'PermContactDetailslist', k.PermContactDetails_Id, k.PermContactDetails_FullDetails, 'PermContactDetailslist', 'view', 'N');

                    $('#CorrsAddrslist').P2BLookUpEncapsulate('#CorrsAddrslist', 'CorrsAddrslist', k.CorrsAddrs_Id, k.CorrsAddrs_FullDetails, 'CorrsAddrslist', 'view', 'N');
                    $('#CorrsContactDetailslist').P2BLookUpEncapsulate('#CorrsContactDetailslist', 'CorrsContactDetailslist', k.CorrsContactDetails_Id, k.CorrsContactDetails_FullDetails, 'CorrsContactDetailslist', 'view', 'N');
                });
                $.each(data[1], function (i, k) {
                    $('#ReportingStructRightslist').P2BLookUpEncapsulate('#ReportingStructRightslist', 'ReportingStructRightslist', k.id, k.val, 'ReportingStructRightslist', 'view', 'A');
                    $('#EmployeeDocumentslist').P2BLookUpEncapsulate('#EmployeeDocumentslist', 'EmployeeDocumentslist', k.EmpDoc_id, k.EmpDoc_val, 'EmployeeDocumentslist', 'view', 'A');
                });
            });
        });

        $('#Delete').button().click(function (event) {
            dt = $('#JqGrid').P2BGrid.P2BEdDelV('#JqGrid', 'Id');
            $('#Create_Dialog').P2BDeleteModalDialog('@Url.Action("Delete")', dt.Id, 'Are you sure want to remove record???', 'Message : ', 'Request failed', '#JqGrid', 200, 200);
            event.preventDefault();
        });

        /* Residential address*/
        $('#Lookup-ResAddrs-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetAddressLKDetails", "Employee")?Empcode=' + getEmpcode, '', 'LookupDiv', 'Address Look Up Data', '#ResAddrslist', 'ResAddrslist', 5, 'ResAddrslist', '#frmEmployee', 'N', '#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee', 'ResAddrslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-ResAddrs-Employee').on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "address")', 'Create Address', 'open', '@Url.Action("Create","Address")', '#FormAddress', 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '', '', '', '#frmEmployee', '', function (data) {
                // to show data which is created in partial page
                $('#ResAddrslist').P2BLookUpEncapsulate('#ResAddrslist', 'ResAddrslist', data[0], data[1], 'ResAddrslist', '#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee', 'N');
            });
            event.preventDefault();
        });

        $('#Edit-ResAddrs-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#ResAddrslist').P2BGetTableDataonSelectedRow('#ResAddrslist', 0);
            b = a[0];
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("partial", "address")', '@Url.Action("edit", "address")', b, '@Url.Action("Editsave","Address")', 'Edit Address', '#FormAddress', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#ResAddrslist', 'ResAddrslist', 'ResAddrslist', 'N', '#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee', function (data) {
                $.each(data[0], function (i, k) {
                    $('#FormAddress').trigger("reset");
                    $('#Address1').val(k.Address1);
                    $('#Address2').val(k.Address2);
                    $('#Address3').val(k.Address3);
                    $('#Landmark').val(k.Landmark);
                    $('#CountryList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "country")", "", k.Country_Id, '');
                    $('#StateList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "state")", "", k.State_Id, '');
                    $('#StateRegionList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "StateRegion")", "", k.StateRegion_Id, '');
                    $('#DistrictList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "District")", "", k.District_Id, '');
                    $('#TalukaList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "Taluka")", "", k.Taluka_Id, '');
                    $('#CityList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "City")", "", k.City_Id, '');
                    $('#AreaList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "area")", "", k.Area_Id, '');
                });
                //}, 3000);


            });
            event.preventDefault();
        });

        $('#Remove-ResAddrs-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#ResAddrslist').P2BGetTableDataonSelectedRow('#ResAddrslist', 0);
            //b = a[0];

            var selectedRows = [];
            selectedRows = $('#ResAddrslist').P2BGetTableDataonSelectedRow('#ResAddrslist', 0);


            $('<div></div>').P2BPartialDeleteModalDialog('', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#ResAddrslist', $('#ResAddrslist').val(), 200, 200, '#frmEmployee', '#ResAddrslist', '#Edit-ResAddrs-Employee,#Remove-ResAddrs-Employee');
            event.preventDefault();
        });

        /* Correspondance address*/
        $('#Lookup-CorrsAddrs-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetAddressLKDetails", "Employee")?Empcode=' + getEmpcode, '', 'LookupDiv', 'Address Look Up Data', '#CorrsAddrslist', 'CorrsAddrslist', 5, 'CorrsAddrslist', '#frmEmployee', 'N', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee', 'CorrsAddrslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-CorrsAddrs-Employee').on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "address")', 'Create Address', 'open', '@Url.Action("Create","Address")', '#FormAddress', 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '', '', '', '#frmEmployee', '', function (data) {
                // to show data which is created in partial page
                $('#CorrsAddrslist').P2BLookUpEncapsulate('#CorrsAddrslist', 'CorrsAddrslist', data[0], data[1], 'CorrsAddrslist', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee', 'N');
            });
            event.preventDefault();
        });

        $('#Edit-CorrsAddrs-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#CorrsAddrslist').P2BGetTableDataonSelectedRow('#CorrsAddrslist', 0);
            b = a[0];
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("partial", "address")', '@Url.Action("edit", "address")', b, '@Url.Action("Editsave","Address")', 'Edit Address', '#FormAddress', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#CorrsAddrslist', 'CorrsAddrslist', 'CorrsAddrslist', 'N', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee', function (data) {
                $.each(data[0], function (i, k) {
                    $('#FormAddress').trigger("reset");
                    $('#Address1').val(k.Address1);
                    $('#Address2').val(k.Address2);
                    $('#Address3').val(k.Address3);
                    $('#Landmark').val(k.Landmark);
                    $('#CountryList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "country")", "", k.Country_Id, '');
                    $('#StateList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "state")", "", k.State_Id, '');
                    $('#StateRegionList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "StateRegion")", "", k.StateRegion_Id, '');
                    $('#DistrictList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "District")", "", k.District_Id, '');
                    $('#TalukaList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "Taluka")", "", k.Taluka_Id, '');
                    $('#CityList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "City")", "", k.City_Id, '');
                    $('#AreaList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "area")", "", k.Area_Id, '');
                });
            });
            event.preventDefault();
        });

        $('#Remove-CorrsAddrs-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#CorrsAddrslist').P2BGetTableDataonSelectedRow('#CorrsAddrslist', 0);
            //b = a[0];
            var selectedRows = [];
            selectedRows = $('#CorrsAddrslist').P2BGetTableDataonSelectedRow('#CorrsAddrslist', 0);

            $('<div></div>').P2BPartialDeleteModalDialog('', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#CorrsAddrslist', $('#CorrsAddrslist').val(), 200, 200, '#frmEmployee', '#CorrsAddrslist', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee');
            event.preventDefault();
        });

        /* Permanent address*/
        $('#Lookup-PermAddrs-Employee').button().on('click', function (e) {
            console.log("getEmpcode "+getEmpcode);
            $('.dialog').P2BLookUpModal('@Url.Action("GetAddressLKDetails", "Employee")?Empcode=' + getEmpcode, '', 'LookupDiv', 'Address Look Up Data', '#PermAddrslist', 'PermAddrslist', 5, 'PermAddrslist', '#frmEmployee', 'N', '#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee', 'PermAddrslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-PermAddrs-Employee').on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "address")', 'Create Address', 'open', '@Url.Action("Create","Address")', '#FormAddress', 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '', '', '', '#frmEmployee', '', function (data) {
                // to show data which is created in partial page
                $('#PermAddrslist').P2BLookUpEncapsulate('#PermAddrslist', 'PermAddrslist', data[0], data[1], 'PermAddrslist', '#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee', 'N');
            });
            event.preventDefault();
        });

        $('#Edit-PermAddrs-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#PermAddrslist').P2BGetTableDataonSelectedRow('#PermAddrslist', 0);
            b = a[0];
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("partial", "address")', '@Url.Action("edit", "address")', b, '@Url.Action("Editsave","Address")', 'Edit Address', '#FormAddress', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#PermAddrslist', 'PermAddrslist', 'PermAddrslist', 'N', '#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee', function (data) {
                $.each(data[0], function (i, k) {
                    $('#FormAddress').trigger("reset");
                    $('#Address1').val(k.Address1);
                    $('#Address2').val(k.Address2);
                    $('#Address3').val(k.Address3);
                    $('#Landmark').val(k.Landmark);
                    $('#CountryList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "country")", "", k.Country_Id, '');
                    $('#StateList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "state")", "", k.State_Id, '');
                    $('#StateRegionList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "StateRegion")", "", k.StateRegion_Id, '');
                    $('#DistrictList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "District")", "", k.District_Id, '');
                    $('#TalukaList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "Taluka")", "", k.Taluka_Id, '');
                    $('#CityList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "City")", "", k.City_Id, '');
                    $('#AreaList').P2BSelectMenuAppend("@Url.Action("PopulateDropDownList", "area")", "", k.Area_Id, '');
                });
            });
            event.preventDefault();
        });

        $('#Remove-PermAddrs-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#PermAddrslist').P2BGetTableDataonSelectedRow('#PermAddrslist', 0);
            //b = a[0];


            var selectedRows = [];

            selectedRows = $('#PermAddrslist').P2BGetTableDataonSelectedRow('#PermAddrslist', 0);

            $('<div></div>').P2BPartialDeleteModalDialog('', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#PermAddrslist', $('#PermAddrslist').val(), 200, 200, '#frmEmployee', '#PermAddrslist', '#Edit-PermAddrs-Employee,#Remove-PermAddrs-Employee');
            event.preventDefault();
        });

        /* Residential Contact Details*/
        $('#Lookup-ResContactDetails-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetContactDetLKDetails", "Employee")?Empcode=' + getEmpcode, '', 'LookupDiv', 'Contact Details Look Up Data', '#ResContactDetailslist', 'ResContactDetailslist', 5, 'ResContactDetailslist', '#frmEmployee', 'N', '#Edit-ResContactDetails-Employee,#Remove-ResContactDetails-Employee', 'ResContactDetailslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('input[type=text]').bind("mousewheel", function () {
            if ($.support.webkit === true) {
                return false;
            }
        });
        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-ResContactDetails-Employee').button().on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("Createcontactdetails_partial", "Corporate")', 'Create ContactDetails', 'open', '@Url.Action("CreateSave","ContactDetails")', '#frmContactDetails', 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '', '', '', '#frmContactDetails', '#Edit-ContactNo-ContDetails,#Remove-ContactNo-ContDetails', function (data) {
                $('#ResContactDetailslist').P2BLookUpEncapsulate('#ResContactDetailslist', 'ResContactDetailslist', data[0], data[1], 'ResContactDetailslist', '#Edit-ContactDetails-Corporate,#Remove-ContactDetails-Corporate', 'N');
            });
            event.preventDefault();
        });

        $('#Edit-ResContactDetails-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#ResContactDetailslist').P2BGetTableDataonSelectedRow('#ResContactDetailslist', 0);
            b = a[0];
            console.log(b);
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("Createcontactdetails_partial", "Corporate")', '@Url.Action("Editcontactdetails_partial", "Corporate")', b, '@Url.Action("EditSave", "ContactDetails")', 'Edit Contact Details', '#frmContactDetails', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#ResContactDetailslist', 'ResContactDetailslist', 'ResContactDetailslist', 'N', '#Edit-ResContactDetails-Employee,#Remove-ResContactDetails-Employee', function (data) {
                // setTimeout(function () {
                $.each(data[0], function (i, k) {
                    $('#frmContactDetails').trigger('reset');
                    $('#EmailId').val(k.EmailId);
                    $('#Website').val(k.Website);
                    $('#FaxNo').val(k.FaxNo);
                });
                $.each(data[1], function (i, k) {
                    $('#ContactNos_List').P2BLookUpEncapsulate('#ContactNos_List', 'ContactNos_List', k.Id, k.FullContactNumbers, 'ContactNos_List', '#Edit-ContactNo-ContDetails,#Remove-ContactNo-ContDetails', 'A');
                });
                // }, 3000);
            });
            event.preventDefault();
        });

        $('#Remove-ResContactDetails-Employee').button().on('click', function (event) {
            // dt = $('#JqGrid').P2BGrid.P2BEdDelV('#JqGrid', 'Id');
            //var a = [], b;
            //a = $('#ResContactDetailslist').P2BGetTableDataonSelectedRow('#ResContactDetailslist', 0);
            //b = a[0];
            var selectedRows = [];

            selectedRows = $('#ResContactDetailslist').P2BGetTableDataonSelectedRow('#ResContactDetailslist', 0);

            $('<div></div>').P2BPartialDeleteModalDialog('@Url.Action("DeleteContactDetails","Corporate")', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#ResContactDetailslist', $('#ResContactDetailslist').val(), 200, 200, '#frmEmployee', '#ResContactDetailslist', '#Edit-ResContactDetails-Employee,#Remove-ResContactDetails-Employee');
            event.preventDefault();
        });

        /* Correspondance Contact Details*/
        $('#Lookup-CorrsContactDetails-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetContactDetLKDetails", "Employee")?Empcode=' + getEmpcode, '', 'LookupDiv', 'Contact Details Look Up Data', '#CorrsContactDetailslist', 'CorrsContactDetailslist', 5, 'CorrsContactDetailslist', '#frmEmployee', 'N', '#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee', 'CorrsContactDetailslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-CorrsContactDetails-Employee').button().on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("Createcontactdetails_partial", "Corporate")', 'Create ContactDetails', 'open', '@Url.Action("CreateSave","ContactDetails")', '#frmContactDetails', 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '', '', '', '#frmContactDetails', '#Edit-ContactNo-ContDetails,#Remove-ContactNo-ContDetails', function (data) {
                $('#CorrsContactDetailslist').P2BLookUpEncapsulate('#CorrsContactDetailslist', 'CorrsContactDetailslist', data[0], data[1], 'CorrsContactDetailslist', '#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee', 'N');
            });
            event.preventDefault();
        });

        $('#Edit-CorrsContactDetails-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#CorrsContactDetailslist').P2BGetTableDataonSelectedRow('#CorrsContactDetailslist', 0);
            b = a[0];
            console.log(b);
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("Createcontactdetails_partial", "Corporate")', '@Url.Action("Editcontactdetails_partial", "Corporate")', b, '@Url.Action("EditSave", "ContactDetails")', 'Edit Contact Details', '#frmContactDetails', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#CorrsContactDetailslist', 'CorrsContactDetailslist', 'CorrsContactDetailslist', 'N', '#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee', function (data) {
                // setTimeout(function () {
                $.each(data[0], function (i, k) {
                    $('#frmContactDetails').trigger('reset');
                    $('#EmailId').val(k.EmailId);
                    $('#Website').val(k.Website);
                    $('#FaxNo').val(k.FaxNo);
                });

                $.each(data[1], function (i, k) {
                    $('#ContactNos_List').P2BLookUpEncapsulate('#ContactNos_List', 'ContactNos_List', k.Id, k.FullContactNumbers, 'ContactNos_List', '#Edit-ContactNo-ContDetails,#Remove-ContactNo-ContDetails', 'A');
                });
                // }, 3000);
            });
            event.preventDefault();
        });

        $('#Remove-CorrsContactDetails-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#CorrsContactDetailslist').P2BGetTableDataonSelectedRow('#CorrsContactDetailslist', 0);
            //b = a[0];
            var selectedRows = [];

            selectedRows = $('#CorrsContactDetailslist').P2BGetTableDataonSelectedRow('#CorrsContactDetailslist', 0);


            $('<div></div>').P2BPartialDeleteModalDialog('@Url.Action("DeleteContactDetails","Corporate")', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#CorrsContactDetailslist', $('#CorrsContactDetailslist').val(), 200, 200, '#frmEmployee', '#CorrsContactDetailslist', '#Edit-CorrsContactDetails-Employee,#Remove-CorrsContactDetails-Employee');
            event.preventDefault();
        });
        $('#Lookup-PermContactDetails-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetContactDetLKDetails", "Employee")?Empcode=' + getEmpcode, '', 'LookupDiv', 'Contact Details Look Up Data', '#PermContactDetailslist', 'PermContactDetailslist', 5, 'PermContactDetailslist', '#frmEmployee', 'N', '#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee', 'PermContactDetailslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-PermContactDetails-Employee').button().on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("Createcontactdetails_partial", "Corporate")', 'Create ContactDetails', 'open', '@Url.Action("CreateSave","ContactDetails")', '#frmContactDetails', 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '', '', '', '#frmContactDetails', '#Edit-ContactNo-ContDetails,#Remove-ContactNo-ContDetails', function (data) {
                $('#PermContactDetailslist').P2BLookUpEncapsulate('#PermContactDetailslist', 'PermContactDetailslist', data[0], data[1], 'PermContactDetailslist', '#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee', 'N');
            });
            event.preventDefault();
        });

        $('#Edit-PermContactDetails-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#PermContactDetailslist').P2BGetTableDataonSelectedRow('#PermContactDetailslist', 0);
            b = a[0];
            console.log(b);
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("Createcontactdetails_partial", "Corporate")', '@Url.Action("Editcontactdetails_partial", "Corporate")', b, '@Url.Action("EditSave", "ContactDetails")', 'Edit Contact Details', '#frmContactDetails', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#PermContactDetailslist', 'PermContactDetailslist', 'PermContactDetailslist', 'N', '#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee', function (data) {
                $.each(data[0], function (i, k) {
                    $('#frmContactDetails').trigger('reset');
                    $('#EmailId').val(k.EmailId);
                    $('#Website').val(k.Website);
                    $('#FaxNo').val(k.FaxNo);
                });

                $.each(data[1], function (i, k) {
                    $('#ContactNos_List').P2BLookUpEncapsulate('#ContactNos_List', 'ContactNos_List', k.Id, k.FullContactNumbers, 'ContactNos_List', '#Edit-ContactNo-ContDetails,#Remove-ContactNo-ContDetails', 'A');
                });
            });
            event.preventDefault();
        });

        $('#Remove-PermContactDetails-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#PermContactDetailslist').P2BGetTableDataonSelectedRow('#PermContactDetailslist', 0);
            //b = a[0];

            var selectedRows = [];

            selectedRows = $('#PermContactDetailslist').P2BGetTableDataonSelectedRow('#PermContactDetailslist', 0);

            $('<div></div>').P2BPartialDeleteModalDialog('@Url.Action("DeleteContactDetails","Corporate")', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#PermContactDetailslist', $('#PermContactDetailslist').val(), 200, 200, '#frmEmployee', '#PermContactDetailslist', '#Edit-PermContactDetails-Employee,#Remove-PermContactDetails-Employee');
            event.preventDefault();
        });
        $('.selectmenu').selectmenu().selectmenu("menuWidget").addClass("overflow");
        $('.popup_radio_button').controlgroup();
        $.fn.CustomeDatePicker = function () {
            return this.each(function () {
                $(this).datetimepicker({
                    lang: 'en',
                    timepicker: false,
                    format: 'd/m/Y',
                    formatDate: 'dd/MM/yyyy',
                });
            });
        };
        $('.date').P2BDatePicker();
        $('.date').attr('readonly', 'readonly');
        $('#Autho').makeDisable('#Create,#Edit,#Delete');
        $('#Autho').onClickGrid('#JqGrid', '@Url.Action("P2BGrid")', '@Url.Action("P2BGrid")');
        $('#Create-EmpName-FName').on('click', function (e) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "NameSingle")', 'Create NameSingle', 'open', '@Url.Action("Create", "NameSingle")', '#frmNameSingle', 'Message :', 'Request Falied :', '#JqGrid', 251, 460, '', '#DepartmentObjlist', 'change', '', '', function (data) {
                $('#EmpName_id').val(data[0]);
                $('#EmpName_FullNameFML').val(data[1]);
            });
        });
        $('#Create-FatherName-FName').on('click', function (e) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "NameSingle")', 'Create NameSingle', 'open', '@Url.Action("Create", "NameSingle")', '#frmNameSingle', 'Message :', 'Request Falied :', '#JqGrid', 251, 460, '', '#DepartmentObjlist', 'change', '', '', function (data) {
                $('#FatherName_id').val(data[0]);
                $('#FatherName_FullNameFML').val(data[1]);
            });
        });
        $('#Create-MotherName-FName').on('click', function (e) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "NameSingle")', 'Create NameSingle', 'open', '@Url.Action("Create", "NameSingle")', '#frmNameSingle', 'Message :', 'Request Falied :', '#JqGrid', 251, 460, '', '#DepartmentObjlist', 'change', '', '', function (data) {
                $('#MotherName_id').val(data[0]);
                $('#MotherName_FullNameFML').val(data[1]);
            });
        });
        $('#Create-HusbandName-FName').on('click', function (e) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "NameSingle")', 'Create NameSingle', 'open', '@Url.Action("Create", "NameSingle")', '#frmNameSingle', 'Message :', 'Request Falied :', '#JqGrid', 251, 460, '', '#DepartmentObjlist', 'change', '', '', function (data) {
                $('#HusbandName_id').val(data[0]);
                $('#HusbandName_FullNameFML').val(data[1]);
            });
        });
        $('#Create-BeforeMarriageName-FName').on('click', function (e) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "NameSingle")', 'Create NameSingle', 'open', '@Url.Action("Create", "NameSingle")', '#frmNameSingle', 'Message :', 'Request Falied :', '#JqGrid', 251, 460, '', '#DepartmentObjlist', 'change', '', '', function (data) {
                $('#BeforeMarriageName_id').val(data[0]);
                $('#BeforeMarriageName_FullNameFML').val(data[1]);
            });
        });

        $('#Edit-EmpName-FName').button().on("click", function (event) {
            var a = $('#EmpName_id').val() == false ? alert("Select Record..!") : $('#EmpName_id').val();
            if (a == undefined) return false;
            $("<div></div>").CustomeDialog({
                htmlurl: '@Url.Action("partial", "NameSingle")',
                onloaddataurl: '@Url.Action("edit", "NameSingle")',
                onloaddataid: a,
                submiturl: '@Url.Action("EditSave", "NameSingle")',
                form: '#frmNameSingle',
                title: 'Name Single',
                onloadreturnfunction: function (data) {

                    $('#frmNameSingle').trigger('reset');
                    $('#FName').val(data.FName);
                    $('#MName').val(data.MName);
                    $('#LName').val(data.LName);
                    $('#title').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 100, data.EmpTitle);
                    $('#id').val(data.id);
                },
                onsubmitreturnfunction: function (data) {
                    $('#EmpName_id').val(data.Id);
                    $('#EmpName_FullNameFML').val(data.Val);
                }
            });
            event.preventDefault();
        });

        $('#Edit-FatherName-FName').button().on("click", function (event) {
            var a = $('#FatherName_id').val() == false ? alert("Select Record..!") : $('#FatherName_id').val();
            if (a == undefined) return false;
            $("<div></div>").CustomeDialog({
                htmlurl: '@Url.Action("partial", "NameSingle")',
                onloaddataurl: '@Url.Action("edit", "NameSingle")',
                onloaddataid: a,
                submiturl: '@Url.Action("EditSave", "NameSingle")',
                form: '#frmNameSingle',
                title: 'Name Single',
                onloadreturnfunction: function (data) {
                    $('#frmNameSingle').trigger('reset');
                    $('#FName').val(data.FName);
                    $('#MName').val(data.MName);
                    $('#LName').val(data.LName);
                    $('#title').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 100, data.EmpTitle);
                },
                onsubmitreturnfunction: function (data) {
                    $('#FatherName_id').val(data.Id);
                    $('#FatherName_FullNameFML').val(data.Val);
                }
            });
            event.preventDefault();
        });

        $('#Edit-MotherName-FName').button().on("click", function (event) {
            var a = $('#MotherName_id').val() == false ? alert("Select Record..!") : $('#MotherName_id').val();
            if (a == undefined) return false;
            $("<div></div>").CustomeDialog({
                htmlurl: '@Url.Action("partial", "NameSingle")',
                onloaddataurl: '@Url.Action("edit", "NameSingle")',
                onloaddataid: a,
                submiturl: '@Url.Action("EditSave", "NameSingle")',
                form: '#frmNameSingle',
                title: 'Name Single',
                onloadreturnfunction: function (data) {
                    $('#frmNameSingle').trigger('reset');
                    $('#FName').val(data.FName);
                    $('#MName').val(data.MName);
                    $('#LName').val(data.LName);
                    $('#title').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 100, data.EmpTitle);
                },
                onsubmitreturnfunction: function (data) {
                    $('#MotherName_id').val(data.Id);
                    $('#MotherName_FullNameFML').val(data.Val);
                }
            });
            event.preventDefault();
        });

        $('#Edit-HusbandName-FName').button().on("click", function (event) {
            var a = $('#HusbandName_id').val() == false ? alert("Select Record..!") : $('#HusbandName_id').val();
            if (a == undefined) return false;
            $("<div></div>").CustomeDialog({
                htmlurl: '@Url.Action("partial", "NameSingle")',
                onloaddataurl: '@Url.Action("edit", "NameSingle")',
                onloaddataid: a,
                submiturl: '@Url.Action("EditSave", "NameSingle")',
                form: '#frmNameSingle',
                title: 'Name Single',
                onloadreturnfunction: function (data) {
                    $('#frmNameSingle').trigger('reset');
                    $('#FName').val(data.FName);
                    $('#MName').val(data.MName);
                    $('#LName').val(data.LName);
                    $('#title').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 100, data.EmpTitle);
                },
                onsubmitreturnfunction: function (data) {
                    $('#HusbandName_id').val(data[0]);
                    $('#HusbandName_FullNameFML').val(data[1]);
                }
            });
            event.preventDefault();
        });

        $('#Edit-BeforeMarriageName-FName').button().on("click", function (event) {
            var a = $('#BeforeMarriageName_id').val() == false ? alert("Select Record..!") : $('#BeforeMarriageName_FName').val();
            if (a == undefined) return false;
            $("<div></div>").CustomeDialog({
                htmlurl: '@Url.Action("partial", "NameSingle")',
                onloaddataurl: '@Url.Action("edit", "NameSingle")',
                onloaddataid: a,
                submiturl: '@Url.Action("EditSave", "NameSingle")',
                form: '#frmNameSingle',
                title: 'Name Single',
                onloadreturnfunction: function (data) {
                    $('#frmNameSingle').trigger('reset');
                    $('#FName').val(data.FName);
                    $('#MName').val(data.MName);
                    $('#LName').val(data.LName);
                    $('#title').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 100, data.EmpTitle);
                },
                onsubmitreturnfunction: function (data) {
                    $('#BeforeMarriageName_id').val(data[0]);
                    $('#BeforeMarriageName_FullNameFML').val(data[1]);
                }
            });
            event.preventDefault();
        });

        $('#Lookup-HusbandName-FName').on('click', function () {
            $('.dialog').AddDataToTextbox({
                appendTo: "#HusbandName_FullNameFML",
                appendToId: "#HusbandName_id",
                lookupurl: "@Url.Action("GetLookup_Name", "Employee")",
                NoOfRecordToShow: "10",
                setnameofthelookupbyppage: "HusbandName_FName-lookup",
                LookupDiv: "LookupDiv",
                lookuppagename: "lookup",
                pagename: "PageNavPosition",
                readonly: true,
            });
        });
        $('#Lookup-MotherName-FName').on('click', function () {
            $('.dialog').AddDataToTextbox({
                appendTo: "#MotherName_FullNameFML",
                appendToId: "#MotherName_id",
                lookupurl: "@Url.Action("GetLookup_Name", "Employee")",
                NoOfRecordToShow: "10",
                setnameofthelookupbyppage: "MotherName_FName-lookup",
                LookupDiv: "LookupDiv",
                lookuppagename: "lookup", readonly: true,
                pagename: "PageNavPosition"
            });
        });
        $('#Lookup-BeforeMarriageName-FName').on('click', function () {
            $('.dialog').AddDataToTextbox({
                appendTo: "#BeforeMarriageName_FullNameFML",
                lookupurl: "@Url.Action("GetLookup_Name", "Employee")",
                NoOfRecordToShow: "10",
                setnameofthelookupbyppage: "BeforeMarriageName_FName-lookup",
                LookupDiv: "LookupDiv",
                lookuppagename: "lookup", readonly: true,
                appendToId: "#BeforeMarriageName_id",
                pagename: "PageNavPosition"
            });
        });
        $('#Lookup-FatherName-FName').on('click', function () {

            $('.dialog').AddDataToTextbox({
                appendTo: "#FatherName_FullNameFML",
                lookupurl: "@Url.Action("GetLookup_Name", "Employee")",
                NoOfRecordToShow: "10",
                setnameofthelookupbyppage: "FatherName_FName-lookup",
                LookupDiv: "LookupDiv",
                appendToId: "#FatherName_id",
                lookuppagename: "lookup", readonly: true,
                pagename: "PageNavPosition"
            });
        });
        $('#Lookup-EmpName-FName').on('click', function () {

            $('.dialog').AddDataToTextbox({
                appendTo: "#EmpName_FullNameFML",
                lookupurl: "@Url.Action("GetLookup_Name", "Employee")",
                NoOfRecordToShow: "10",
                setnameofthelookupbyppage: "EmpName_FName-lookup",
                LookupDiv: "LookupDiv",
                lookuppagename: "lookup",
                appendToId: "#EmpName_id",
                readonly: true,
                pagename: "PageNavPosition"
            });
        });
        $('#EmpName_FullNameFML,#FatherName_FullNameFML,#BeforeMarriageName_FullNameFML,#MotherName_FullNameFML,#MotherName_FullNameFML,#HusbandName_FullNameFML').attr('readonly', true);
        $('#Lookup-ReportingStructRights-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetLookup", "ReportingStructRights")', '', 'LookupDiv', 'ReportingStructRights Look Up Data', '#ReportingStructRightslist', 'ReportingStructRightslist', 5, 'ReportingStructRightslist', '#frmEmployee', 'A', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee', 'CorrsAddrslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('#Create-ReportingStructRights-Employee').on("click", function (event) {
            $('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "ReportingStructRights")', 'Create ReportingStructRights', 'open', '@Url.Action("Create","ReportingStructRights")', '#frmReportingStructRights', 'Message :', 'Request Falied :', '#JqGrid', 600, 700, '', '', '', '#frmEmployee', '', function (data) {
                $('#ReportingStructRightslist').P2BLookUpEncapsulate('#ReportingStructRightslist', 'ReportingStructRightslist', data[0], data[1], 'ReportingStructRightslist', '#Edit-ReportingStructRights-Employee,#Remove-ReportingStructRights-Employee', 'A');
            });
            event.preventDefault();
        });

        $('#Edit-ReportingStructRights-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#ReportingStructRightslist').P2BGetTableDataonSelectedRow('#ReportingStructRightslist', 0);
            b = a[0];
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("partial", "ReportingStructRights")', '@Url.Action("edit", "ReportingStructRights")', b, '@Url.Action("Editsave","ReportingStructRights")', 'Edit ReportingStructRights', '#frmReportingStructRights', b, 'Message :', 'Request Falied :', '#JqGrid', 600, 700, '#frmEmployee', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee', '#ReportingStructRightslist', 'ReportingStructRightslist', 'ReportingStructRightslist', 'A', function (data) {
                $.each(data[0], function (i, k) {
                    @*$('#ReportingLevellist').P2BSelectMenuAppend('@Url.Action("GetLookupValue", "lookup")', 600, k.ReportingLevel_Id, '');*@
                    $('#FuncModuleslist').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 601, k.FuncModules_Id, '');
                    $('#FuncSubModuleslist').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", k.FuncModules_Code, k.FuncSubModules_Id, '');
                    @*$('#AccessRightslist').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 603, k.AccessRights_Id, '');*@
                    $('#AccessRightslist').P2BLookUpEncapsulate('#AccessRightslist', 'AccessRightslist', k.AccessRights_Id, k.AccessRights_Val, 'AccessRightslist', '', 'A');
                    $('#ReportingStructlist').P2BLookUpEncapsulate('#ReportingStructlist', 'ReportingStructlist', k.ReportingStruct_Id, k.ReportingStruct_Val, 'ReportingStructlist', '', 'A');
                });
                $.each(data[1], function (i, k) {
                });
            });
            event.preventDefault();
        });

        $('#Remove-ReportingStructRights-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#ReportingStructRightslist').P2BGetTableDataonSelectedRow('#ReportingStructRightslist', 0);
            //b = a[0];

            var selectedRows = [];

            selectedRows = $('#ReportingStructRightslist').P2BGetTableDataonSelectedRow('#ReportingStructRightslist', 0);


            $('<div></div>').P2BPartialDeleteModalDialog('', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#ReportingStructRightslist', $('#ReportingStructRightslist').val(), 200, 200, '#frmEmployee', '#ReportingStructRightslist', '#Edit-CorrsAddrs-Employee,#Remove-CorrsAddrs-Employee');
            event.preventDefault();
        });


        //----------employee Document Details-end----

        $('#Lookup-EmployeeDocuments-Employee').button().on('click', function (e) {
            $('.dialog').P2BLookUpModal('@Url.Action("GetCandDocsLKDetails", "EmployeeDocuments")', '', 'LookupDiv', 'Employee Document Look Up Data', '#EmployeeDocumentslist', 'EmployeeDocumentslist', 5, 'EmployeeDocumentslist', '#frmCandidate', 'N', '#Remove-EmployeeDocuments-Employee', 'CandidateDocumentslist_table', 'PageNavPosition');
            e.preventDefault();
        });

        $('<div></div>').P2BPartialCreateModalDialog();
        $('#Create-EmployeeDocuments-Employee').on("click", function (event) {
            @*$('<div></div>').P2BPartialCreateModalDialog('@Url.Action("partial", "EmployeeDocuments")', 'Create Employee Documents', 'open', '@Url.Action("Create", "EmployeeDocuments")', '#frmCandidateDocs', 'Message :', 'Request Failed :', '#JqGrid', 400, 500, '', '', '', '#frmCandidate', '', function (data) {
                $('#EmployeeDocumentslist').P2BLookUpEncapsulate('#EmployeeDocumentslist', 'EmployeeDocumentslist', data[0], data[1], 'EmployeeDocumentslist', '', 'N');
            });*@

            var a = $('#EmpCode').val();

            $('<div></div>').P2BConfidentialModelDialog({
                htmlurl: "@Url.Action("partial", "EmployeeDocuments")",
                submiturl: "@Url.Action("Create", "EmployeeDocuments")?EmpCode="+ a,
                form: '#frmCandidateDocs',
                height: "400",
                type: "FILE",
                width: "500",
                title: "DocumentUpload",
                BeforeSendurl: "true",
                returnfun: function (data) {
                    $('#EmployeeDocumentslist').P2BLookUpEncapsulate('#EmployeeDocumentslist', 'EmployeeDocumentslist', data.Id, data.Val, 'EmployeeDocumentslist', '', 'A');
                },
            });
            event.preventDefault();
        });

        $('#Edit-EmployeeDocuments-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#EmployeeDocumentslist').P2BGetTableDataonSelectedRow('#EmployeeDocumentslist', 0);
            b = a[0];
             //url, openurl, opendataforward, editurl, maindialogtitle, forwardserializedata, forwarddata, editmessage, editerrormessage, gridreloadname, height, width, classoridoftheonwhichpopupderived, nameclassidofinlinelookup, nameofthelist_inlinelookuptable, nameoftable_inlinelookuptable,multiple_allowed_or_not,nameidclassofbuttontodisable,returndatafunction) {
            $('<div></div>').P2BPatialEditModalDialog('@Url.Action("partial", "EmployeeDocuments")', '@Url.Action("edit", "EmployeeDocuments")', b, '@Url.Action("Editsave", "EmployeeDocuments")', 'Edit Employee Documents', '#frmCandidateDocuments', b, 'Message :', 'Request Falied :', '#JqGrid', 400, 500, '#frmEmployee', '#EmployeeDocumentslist', 'EmployeeDocumentslist', 'EmployeeDocumentslist', 'N', '#Edit-EmployeeDocuments-Employee,#Remove-EmployeeDocuments-Employee', function (data) {
                // setTimeout(function () {
                //to bind data according to selected id
                $.each(data[0], function (i, k) {
                    $('#frmCandidateDocs').trigger("reset");
                    $('#DocTypeList').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 1070, k.DocTypeList);
                    $('#SubDocList').P2BSelectMenuAppend("@Url.Action("GetLookupValue", "lookup")", 1071, k.SubDocList);
                    if (k.txtUploadDate != null) {
                        $('#txtUploadDate').val(DateConvert(k.txtUploadDate));
                    }
                    $('#txtDocPath').val(k.txtDocPath);
                    $('[name="IsApproved"]').val([k.IsApproved]).button().button("refresh");

                    if (k.txtApprovedDate != null) {
                        $('#txtApprovedDate').val(DateConvert(k.txtApprovedDate));
                    }
                }); 
            }); 
            event.preventDefault();
        });

        $('#View-EmployeeDocuments-Employee').button().on("click", function (event) {
            var a = [], b;
            a = $('#EmployeeDocumentslist').P2BGetTableDataonSelectedRow('#EmployeeDocumentslist', 0);
            b = a[0];
          
            
            $.post("@Url.Action("CheckUploadFile", "EmployeeDocuments")?Id=" + b, function (data) {
                var ext = data.fileextension;
                if (data.success == false) {

                    alert("File Not Found");
                    return false;
                } else if (data.fileextension == ".pdf") {
                    window.location = "@Url.Action("GetCompImage", "EmployeeDocuments")?data=" + b;
                }
                else {
                    $('<div></div>').PartialCreateDialog({
                        height: '500',
                        width: '500',
                        form: "#FormImageViewer",
                        title: "Image Viewer",
                        htmlurl: "@Url.Action("Imageviewr", "Upload")",
                        state: "open",
                        mode: "View",
                        editurl: "@Url.Action("GetCompImage", "EmployeeDocuments")",
                        editdata: b,
                        forwarddata: b,
                        returndatafunction: function (data) {
                            if (ext.toLocaleString().toUpperCase() == ".PDF") {
                                $("#PDFLoad").attr('src', "data:application/pdf;base64," + data + "");
                            }
                            else if (ext.toLocaleString().toUpperCase() == ".PNG") {
                                $("#Dashboard-Investment-Viewer").attr('src', "data:image/png;base64," + data + "");
                            } else if (ext.toLocaleString().toUpperCase() == ".JPG") {
                                $("#Dashboard-Investment-Viewer").attr('src', "data:image/jpg;base64," + data + "");
                            } else {
                                alert("First Upload the File");
                            }
                        }
                    });
                }
            });

            event.preventDefault();
        });

        $('#Remove-EmployeeDocuments-Employee').button().on('click', function (event) {
            //var a = [], b;
            //a = $('#EmployeeDocumentslist').P2BGetTableDataonSelectedRow('#EmployeeDocumentslist', 0);
            //b = a[0];

            var selectedRows = [];
            selectedRows = $('#EmployeeDocumentslist').P2BGetTableDataonSelectedRow('#EmployeeDocumentslist', 0);

            $('<div></div>').P2BPartialDeleteModalDialog('', selectedRows, 0, 'Are you sure want to delete record???', 'Message : ', 'Request failed', '#EmployeeDocumentslist', $('#EmployeeDocumentslist').val(), 200, 200, '#frmEmployee', '#EmployeeDocumentslist', '#Remove-EmployeeDocuments-Employee');
            event.preventDefault();
        });


        //----------employee Document Details-end----

        ////////////////////start


        $(window).on('load', myFunction);

        function myFunction() {
            var parm = $.getUrlVars()["param"];
            if (parm != null) {
                setTimeout(function () {
                    var pg = Math.ceil(parm / 20);
                    var asd = (20 * (pg - 1));
                    var chk = (parm - asd);

                    $('#JqGrid').setGridParam({ page: pg }).trigger('reloadGrid');

                    setTimeout(function () {

                        $('#JqGrid tbody tr[id=' + chk + ']').trigger('click');

                        $('#Edit').trigger('click', '#JqGrid tbody tr[id=' + parm + ']');

                        $('#ui-id-2').trigger('click')

                    }, 1000);
                }, 1000);

            }
        }

        ////////////////////////////////end

    });



</script>
